# =====================================================
# ПЕРЕМЕННЫЕ ОКРУЖЕНИЯ ДЛЯ БАЗЫ ДАННЫХ ENCORE TASKS
# =====================================================
# Скопируйте этот файл в .env и настройте под свою среду

# =====================================================
# НАСТРОЙКИ БАЗЫ ДАННЫХ
# =====================================================

# Основные параметры подключения
DB_HOST=localhost
DB_PORT=5432
DB_NAME=encore_tasks
DB_USER=postgres
DB_PASSWORD=your_password_here

# Тестовая база данных
DB_TEST_NAME=encore_tasks_test

# URL подключения (альтернативный способ)
# DATABASE_URL=postgresql://postgres:password@localhost:5432/encore_tasks

# =====================================================
# НАСТРОЙКИ ПУЛА СОЕДИНЕНИЙ
# =====================================================

# Минимальное количество соединений в пуле
DB_POOL_MIN=2

# Максимальное количество соединений в пуле
DB_POOL_MAX=20

# Время ожидания получения соединения (мс)
DB_POOL_ACQUIRE=30000

# Время простоя соединения перед закрытием (мс)
DB_POOL_IDLE=10000

# =====================================================
# НАСТРОЙКИ БЕЗОПАСНОСТИ
# =====================================================

# Включить Row Level Security (true/false)
ENABLE_RLS=true

# Время жизни сессии в секундах (24 часа)
SESSION_TIMEOUT=86400

# Максимальное количество активных сессий на пользователя
MAX_SESSIONS_PER_USER=5

# Количество раундов для bcrypt хеширования паролей
BCRYPT_ROUNDS=12

# =====================================================
# НАСТРОЙКИ ОЧИСТКИ ДАННЫХ
# =====================================================

# Количество дней хранения логов активности
LOG_RETENTION_DAYS=90

# Количество дней хранения истекших сессий
SESSION_RETENTION_DAYS=7

# Интервал автоматической очистки в часах
CLEANUP_INTERVAL=24

# =====================================================
# НАСТРОЙКИ ФАЙЛОВ
# =====================================================

# Максимальный размер файла в байтах (10MB)
MAX_FILE_SIZE=10485760

# Разрешенные типы файлов (через запятую)
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx,txt

# Путь для хранения загруженных файлов
UPLOAD_PATH=./uploads

# Базовый URL для доступа к файлам
FILES_BASE_URL=/api/files

# =====================================================
# НАСТРОЙКИ УВЕДОМЛЕНИЙ
# =====================================================

# Размер пакета для отправки уведомлений
NOTIFICATION_BATCH_SIZE=100

# Интервал проверки новых уведомлений в секундах
NOTIFICATION_CHECK_INTERVAL=30

# Максимальное количество попыток отправки уведомления
NOTIFICATION_MAX_RETRIES=3

# =====================================================
# ИНТЕГРАЦИЯ С TELEGRAM
# =====================================================

# Включить интеграцию с Telegram (true/false)
TELEGRAM_ENABLED=false

# Токен Telegram бота
TELEGRAM_BOT_TOKEN=your_bot_token_here

# URL для webhook Telegram
TELEGRAM_WEBHOOK_URL=https://your-domain.com/api/telegram/webhook

# =====================================================
# НАСТРОЙКИ REDIS (ОПЦИОНАЛЬНО)
# =====================================================

# Включить Redis для кеширования (true/false)
REDIS_ENABLED=false

# Параметры подключения к Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =====================================================
# НАСТРОЙКИ ЛОГИРОВАНИЯ
# =====================================================

# Уровень логирования (error, warn, info, debug)
LOG_LEVEL=info

# Файл для записи логов
LOG_FILE=./logs/app.log

# Максимальный размер файла лога
LOG_MAX_SIZE=10m

# Максимальное количество файлов логов
LOG_MAX_FILES=5

# =====================================================
# НАСТРОЙКИ СРЕДЫ РАЗРАБОТКИ
# =====================================================

# Среда выполнения (development, production, test)
NODE_ENV=development

# Включить логирование SQL запросов в разработке (true/false)
DB_LOGGING=true

# Включить бенчмарки для SQL запросов (true/false)
DB_BENCHMARK=true

# =====================================================
# НАСТРОЙКИ ПРОДАКШЕНА
# =====================================================

# Включить SSL для подключения к базе данных (true/false)
DB_SSL=false

# Отклонять неавторизованные SSL сертификаты (true/false)
DB_SSL_REJECT_UNAUTHORIZED=false

# =====================================================
# НАСТРОЙКИ РЕЗЕРВНОГО КОПИРОВАНИЯ
# =====================================================

# Количество дней хранения резервных копий
BACKUP_RETENTION_DAYS=30

# Путь для хранения резервных копий
BACKUP_PATH=./backups

# Включить сжатие резервных копий (true/false)
BACKUP_COMPRESS=true

# =====================================================
# ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ
# =====================================================

# Максимальное количество проектов на пользователя
MAX_PROJECTS_PER_USER=10

# Максимальное количество задач в проекте
MAX_TASKS_PER_PROJECT=1000

# Включить метрики производительности (true/false)
ENABLE_METRICS=false

# Порт для метрик Prometheus
METRICS_PORT=9090