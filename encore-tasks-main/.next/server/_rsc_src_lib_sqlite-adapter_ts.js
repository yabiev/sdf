"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_src_lib_sqlite-adapter_ts";
exports.ids = ["_rsc_src_lib_sqlite-adapter_ts"];
exports.modules = {

/***/ "(rsc)/./src/lib/sqlite-adapter.ts":
/*!***********************************!*\
  !*** ./src/lib/sqlite-adapter.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SQLiteAdapter: () => (/* binding */ SQLiteAdapter),\n/* harmony export */   sqliteAdapter: () => (/* binding */ sqliteAdapter)\n/* harmony export */ });\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(better_sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v4.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n// =====================================================\n// SQLite –ê–î–ê–ü–¢–ï–† –î–õ–Ø –í–†–ï–ú–ï–ù–ù–û–ì–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø\n// =====================================================\n\n\n\nclass SQLiteAdapter {\n    constructor(){\n        this.isInitialized = false;\n        const dbPath = path__WEBPACK_IMPORTED_MODULE_1__.join(process.cwd(), 'database.sqlite');\n        this.db = new (better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default())(dbPath);\n    }\n    static getInstance() {\n        if (!SQLiteAdapter.instance) {\n            SQLiteAdapter.instance = new SQLiteAdapter();\n        }\n        return SQLiteAdapter.instance;\n    }\n    async initialize() {\n        if (this.isInitialized) return;\n        try {\n            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü\n            const tables = this.db.prepare(\"SELECT name FROM sqlite_master WHERE type='table'\").all();\n            console.log('‚úÖ SQLite –∞–¥–∞–ø—Ç–µ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');\n            console.log('üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:', tables.map((t)=>t.name));\n            this.isInitialized = true;\n        } catch (error) {\n            console.error('‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ SQLite –∞–¥–∞–ø—Ç–µ—Ä–∞:', error);\n            throw error;\n        }\n    }\n    // =====================================================\n    // –û–ü–ï–†–ê–¶–ò–ò –° –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø–ú–ò\n    // =====================================================\n    async createUser(userData) {\n        try {\n            const id = (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n            const now = new Date().toISOString();\n            const { email, name, avatar, role = 'user', isApproved = false, password_hash } = userData;\n            const stmt = this.db.prepare(`\n        INSERT INTO users (id, email, name, avatar_url, role, approval_status, password_hash, created_at, updated_at)\n        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n      `);\n            // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º isApproved –≤ —á–∏—Å–ª–æ –¥–ª—è approval_status (BOOLEAN –≤ SQLite)\n            const approvalStatus = isApproved ? 1 : 0;\n            // –ò—Å–ø–æ–ª—å–∑—É–µ–º avatar –∫–∞–∫ avatar_url –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å—Ö–µ–º–µ SQLite\n            stmt.run(id, email, name, avatar || null, role, approvalStatus, password_hash, now, now);\n            return {\n                id,\n                email: email || '',\n                name: name || '',\n                avatar,\n                role,\n                isApproved,\n                created_at: now,\n                updated_at: now\n            };\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);\n            throw new Error(`Failed to create user: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async getUserById(id) {\n        try {\n            const stmt = this.db.prepare('SELECT * FROM users WHERE id = ?');\n            const dbUser = stmt.get(id);\n            if (!dbUser) return null;\n            return {\n                id: dbUser.id,\n                name: dbUser.name || dbUser.username || dbUser.email.split('@')[0],\n                email: dbUser.email,\n                avatar: dbUser.avatar || dbUser.avatar_url,\n                role: dbUser.role || 'user',\n                isApproved: dbUser.isApproved || dbUser.is_approved || dbUser.approval_status,\n                lastLoginAt: dbUser.lastLoginAt || dbUser.last_login_at,\n                created_at: dbUser.created_at,\n                updated_at: dbUser.updated_at,\n                password_hash: dbUser.password_hash\n            };\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID:', error);\n            throw new Error(`Failed to get user by ID: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async getUserByEmail(email) {\n        try {\n            const stmt = this.db.prepare('SELECT * FROM users WHERE email = ?');\n            const dbUser = stmt.get(email);\n            if (!dbUser) return null;\n            return {\n                id: dbUser.id,\n                name: dbUser.name || dbUser.username || dbUser.email.split('@')[0],\n                email: dbUser.email,\n                avatar: dbUser.avatar || dbUser.avatar_url,\n                role: dbUser.role || 'user',\n                isApproved: dbUser.isApproved || dbUser.is_approved || dbUser.approval_status,\n                lastLoginAt: dbUser.lastLoginAt || dbUser.last_login_at,\n                created_at: dbUser.created_at,\n                updated_at: dbUser.updated_at,\n                password_hash: dbUser.password_hash\n            };\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email:', error);\n            throw new Error(`Failed to get user by email: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async getAllUsers() {\n        try {\n            const stmt = this.db.prepare('SELECT * FROM users');\n            const dbUsers = stmt.all();\n            return dbUsers.map((dbUser)=>({\n                    id: dbUser.id,\n                    name: dbUser.name || dbUser.username || dbUser.email.split('@')[0],\n                    email: dbUser.email,\n                    avatar: dbUser.avatar || dbUser.avatar_url,\n                    role: dbUser.role || 'user',\n                    isApproved: dbUser.isApproved || dbUser.is_approved,\n                    lastLoginAt: dbUser.lastLoginAt || dbUser.last_login_at,\n                    created_at: dbUser.created_at,\n                    updated_at: dbUser.updated_at,\n                    password_hash: dbUser.password_hash\n                }));\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:', error);\n            throw new Error(`Failed to get all users: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async updateUser(id, updates) {\n        const fields = Object.keys(updates).filter((key)=>key !== 'id');\n        if (fields.length === 0) return null;\n        const setClause = fields.map((field)=>`${field} = ?`).join(', ');\n        const values = fields.map((field)=>updates[field]);\n        values.push(new Date().toISOString()); // updated_at\n        values.push(id);\n        const stmt = this.db.prepare(`\n      UPDATE users SET ${setClause}, updated_at = ? WHERE id = ?\n    `);\n        stmt.run(...values);\n        return this.getUserById(id);\n    }\n    async deleteUser(id) {\n        const stmt = this.db.prepare('DELETE FROM users WHERE id = ?');\n        const result = stmt.run(id);\n        return result.changes > 0;\n    }\n    // =====================================================\n    // –û–ü–ï–†–ê–¶–ò–ò –° –°–ï–°–°–ò–Ø–ú–ò\n    // =====================================================\n    async createSession(sessionData) {\n        const id = (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n        const now = new Date().toISOString();\n        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ expires_at —è–≤–ª—è–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω–æ–π –¥–∞—Ç–æ–π\n        if (!sessionData.expires_at) {\n            throw new Error('Invalid expires_at date provided');\n        }\n        console.log('üîê SQLite: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏:', {\n            token: sessionData.token ? 'present' : 'missing',\n            userId: sessionData.user_id,\n            expires_at: sessionData.expires_at\n        });\n        const stmt = this.db.prepare(`\n      INSERT INTO sessions (id, token, user_id, expires_at, created_at)\n      VALUES (?, ?, ?, ?, ?)\n    `);\n        stmt.run(id, sessionData.token, sessionData.user_id, sessionData.expires_at, now);\n        return {\n            id,\n            token: sessionData.token,\n            user_id: sessionData.user_id,\n            expires_at: sessionData.expires_at,\n            created_at: now\n        };\n    }\n    async getSessionByToken(token) {\n        try {\n            console.log('üîç SQLite: –ü–æ–∏—Å–∫ —Å–µ—Å—Å–∏–∏ –ø–æ —Ç–æ–∫–µ–Ω—É:', token);\n            const stmt = this.db.prepare('SELECT * FROM sessions WHERE token = ? AND expires_at > datetime(\\'now\\')');\n            const dbSession = stmt.get(token);\n            if (!dbSession) {\n                console.log('üìä SQLite: –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–µ—Å—Å–∏–∏: –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');\n                return null;\n            }\n            console.log('üìä SQLite: –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–µ—Å—Å–∏–∏:', dbSession);\n            return {\n                id: dbSession.id,\n                token: dbSession.token,\n                user_id: dbSession.user_id,\n                expires_at: dbSession.expires_at,\n                created_at: dbSession.created_at\n            };\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏ –ø–æ —Ç–æ–∫–µ–Ω—É:', error);\n            throw new Error(`Failed to get session by token: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async deleteSession(token) {\n        try {\n            const stmt = this.db.prepare('DELETE FROM sessions WHERE token = ?');\n            const result = stmt.run(token);\n            return result.changes > 0;\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏:', error);\n            throw new Error(`Failed to delete session: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async deleteUserSessions(userId) {\n        try {\n            const stmt = this.db.prepare('DELETE FROM sessions WHERE user_id = ?');\n            const result = stmt.run(userId);\n            return result.changes;\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);\n            throw new Error(`Failed to delete user sessions: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async deleteExpiredSessions() {\n        try {\n            const now = new Date().toISOString();\n            const stmt = this.db.prepare('DELETE FROM sessions WHERE expires_at < ?');\n            const result = stmt.run(now);\n            return result.changes;\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∏—Å—Ç—ë–∫—à–∏—Ö —Å–µ—Å—Å–∏–π:', error);\n            throw new Error(`Failed to delete expired sessions: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    // =====================================================\n    // –û–ü–ï–†–ê–¶–ò–ò –° –ü–†–û–ï–ö–¢–ê–ú–ò\n    // =====================================================\n    async createProject(projectData) {\n        try {\n            const id = (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n            const now = new Date().toISOString();\n            const { name, description, created_by, color, icon_url, telegram_chat_id, telegram_topic_id } = projectData;\n            const stmt = this.db.prepare(`\n        INSERT INTO projects (id, name, description, creator_id, color, icon, telegram_chat_id, telegram_topic_id, created_at, updated_at)\n        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n      `);\n            stmt.run(id, name, description, created_by, color || '#3B82F6', icon_url || 'üìã', telegram_chat_id, telegram_topic_id, now, now);\n            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–∑–¥–∞—Ç–µ–ª—è –∫–∞–∫ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞\n            const memberStmt = this.db.prepare(`\n        INSERT INTO project_members (id, project_id, user_id, role, joined_at)\n        VALUES (?, ?, ?, ?, ?)\n      `);\n            const memberId = (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n            memberStmt.run(memberId, id, created_by, 'owner', now);\n            return {\n                id,\n                name: name || '',\n                description: description || '',\n                created_by: created_by || '',\n                color: color || '#3B82F6',\n                icon_url: icon_url || 'üìã',\n                telegram_chat_id: telegram_chat_id || null,\n                telegram_topic_id: telegram_topic_id || null,\n                created_at: now,\n                updated_at: now\n            };\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:', error);\n            throw new Error(`Failed to create project: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async getProjectById(id) {\n        const stmt = this.db.prepare('SELECT * FROM projects WHERE id = ?');\n        const dbProject = stmt.get(id);\n        if (!dbProject) return null;\n        // –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –æ–∂–∏–¥–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç\n        const project = {\n            id: dbProject.id,\n            name: dbProject.name,\n            description: dbProject.description,\n            created_by: dbProject.creator_id,\n            color: dbProject.color,\n            icon_url: dbProject.icon || 'üìã',\n            created_at: dbProject.created_at,\n            updated_at: dbProject.updated_at\n        };\n        return project;\n    }\n    async getUserProjects(userId) {\n        const stmt = this.db.prepare(`\n      SELECT * FROM projects WHERE creator_id = ?\n    `);\n        const dbProjects = stmt.all(userId);\n        // –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –æ–∂–∏–¥–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç\n        return dbProjects.map((dbProject)=>({\n                id: dbProject.id,\n                name: dbProject.name,\n                description: dbProject.description,\n                created_by: dbProject.creator_id,\n                color: dbProject.color,\n                icon_url: dbProject.icon || 'üìã',\n                created_at: dbProject.created_at,\n                updated_at: dbProject.updated_at\n            }));\n    }\n    async getAllProjects() {\n        const stmt = this.db.prepare('SELECT * FROM projects');\n        const dbProjects = stmt.all();\n        // –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –æ–∂–∏–¥–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç\n        return dbProjects.map((dbProject)=>({\n                id: dbProject.id,\n                name: dbProject.name,\n                description: dbProject.description,\n                color: dbProject.color,\n                icon_url: dbProject.icon || 'üìã',\n                created_by: dbProject.creator_id,\n                created_at: dbProject.created_at,\n                updated_at: dbProject.updated_at\n            }));\n    }\n    async deleteProject(id) {\n        try {\n            // –ù–∞—á–∏–Ω–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è\n            this.db.exec('BEGIN TRANSACTION');\n            // –£–¥–∞–ª—è–µ–º –∑–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞\n            const deleteTasksStmt = this.db.prepare('DELETE FROM tasks WHERE project_id = ?');\n            deleteTasksStmt.run(id);\n            // –£–¥–∞–ª—è–µ–º –∫–æ–ª–æ–Ω–∫–∏ –¥–æ—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–∞\n            const deleteColumnsStmt = this.db.prepare(`\n        DELETE FROM columns WHERE board_id IN (\n          SELECT id FROM boards WHERE project_id = ?\n        )\n      `);\n            deleteColumnsStmt.run(id);\n            // –£–¥–∞–ª—è–µ–º –¥–æ—Å–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞\n            const deleteBoardsStmt = this.db.prepare('DELETE FROM boards WHERE project_id = ?');\n            deleteBoardsStmt.run(id);\n            // –£–¥–∞–ª—è–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞\n            const deleteMembersStmt = this.db.prepare('DELETE FROM project_members WHERE project_id = ?');\n            deleteMembersStmt.run(id);\n            // –£–¥–∞–ª—è–µ–º —Å–∞–º –ø—Ä–æ–µ–∫—Ç\n            const deleteProjectStmt = this.db.prepare('DELETE FROM projects WHERE id = ?');\n            const result = deleteProjectStmt.run(id);\n            // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é\n            this.db.exec('COMMIT');\n            return result.changes > 0;\n        } catch (error) {\n            // –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏\n            this.db.exec('ROLLBACK');\n            console.error('‚ùå –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:', error);\n            throw error;\n        }\n    }\n    // =====================================================\n    // –û–ü–ï–†–ê–¶–ò–ò –° –î–û–°–ö–ê–ú–ò\n    // =====================================================\n    async createBoard(boardData) {\n        try {\n            const id = (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n            const now = new Date().toISOString();\n            const { name, description, project_id, created_by } = boardData;\n            const stmt = this.db.prepare(`\n        INSERT INTO boards (id, name, description, project_id, created_by, created_at, updated_at)\n        VALUES (?, ?, ?, ?, ?, ?, ?)\n      `);\n            stmt.run(id, name, description, project_id, created_by, now, now);\n            return {\n                id,\n                name: name || '',\n                description: description || '',\n                project_id: project_id || '',\n                created_by: created_by || '',\n                created_at: now,\n                updated_at: now\n            };\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ—Å–∫–∏:', error);\n            throw new Error(`Failed to create board: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async getBoardById(id) {\n        try {\n            const stmt = this.db.prepare('SELECT * FROM boards WHERE id = ?');\n            const row = stmt.get(id);\n            if (!row) return null;\n            return {\n                id: row.id,\n                name: row.name,\n                description: row.description,\n                project_id: row.project_id,\n                created_by: row.created_by,\n                created_at: row.created_at,\n                updated_at: row.updated_at\n            };\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å–∫–∏ –ø–æ ID:', error);\n            throw new Error(`Failed to get board by ID: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async getProjectBoards(projectId) {\n        try {\n            const stmt = this.db.prepare('SELECT * FROM boards WHERE project_id = ? ORDER BY created_at DESC');\n            const dbBoards = stmt.all(projectId);\n            return dbBoards.map((row)=>({\n                    id: row.id,\n                    name: row.name,\n                    description: row.description,\n                    project_id: row.project_id,\n                    created_by: row.created_by,\n                    created_at: row.created_at,\n                    updated_at: row.updated_at\n                }));\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–∞:', error);\n            throw new Error(`Failed to get project boards: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async deleteBoard(id) {\n        try {\n            const deleteBoard = this.db.transaction(()=>{\n                // –£–¥–∞–ª—è–µ–º –≤—Å–µ –∑–∞–¥–∞—á–∏ –¥–æ—Å–∫–∏\n                const deleteTasksStmt = this.db.prepare(`\n          DELETE FROM tasks \n          WHERE column_id IN (\n            SELECT id FROM columns WHERE board_id = ?\n          )\n        `);\n                deleteTasksStmt.run(id);\n                // –£–¥–∞–ª—è–µ–º –≤—Å–µ –∫–æ–ª–æ–Ω–∫–∏ –¥–æ—Å–∫–∏\n                const deleteColumnsStmt = this.db.prepare('DELETE FROM columns WHERE board_id = ?');\n                deleteColumnsStmt.run(id);\n                // –£–¥–∞–ª—è–µ–º —Å–∞–º—É –¥–æ—Å–∫—É\n                const deleteBoardStmt = this.db.prepare('DELETE FROM boards WHERE id = ?');\n                const result = deleteBoardStmt.run(id);\n                return result.changes > 0;\n            });\n            return deleteBoard();\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –¥–æ—Å–∫–∏:', error);\n            throw new Error(`Failed to delete board: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    // =====================================================\n    // –û–ü–ï–†–ê–¶–ò–ò –° –ö–û–õ–û–ù–ö–ê–ú–ò\n    // =====================================================\n    async createColumn(column) {\n        try {\n            const id = (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n            const now = new Date().toISOString();\n            const stmt = this.db.prepare(`\n        INSERT INTO columns (id, name, board_id, position, color, created_at, updated_at)\n        VALUES (?, ?, ?, ?, ?, ?, ?)\n      `);\n            stmt.run(id, column.name, column.board_id, column.position, column.color, now, now);\n            return {\n                id,\n                name: column.name,\n                board_id: column.board_id,\n                position: column.position,\n                color: column.color,\n                created_at: now,\n                updated_at: now\n            };\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–ª–æ–Ω–∫–∏:', error);\n            throw new Error(`Failed to create column: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async getBoardColumns(boardId) {\n        try {\n            const stmt = this.db.prepare('SELECT * FROM columns WHERE board_id = ? ORDER BY position');\n            const rows = stmt.all(boardId);\n            return rows.map((row)=>({\n                    id: row.id,\n                    name: row.name,\n                    board_id: row.board_id,\n                    position: row.position,\n                    color: row.color,\n                    created_at: row.created_at,\n                    updated_at: row.updated_at\n                }));\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ –¥–æ—Å–∫–∏:', error);\n            throw new Error(`Failed to get board columns: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    // =====================================================\n    // –û–ü–ï–†–ê–¶–ò–ò –° –ó–ê–î–ê–ß–ê–ú–ò\n    // =====================================================\n    async createTask(taskData) {\n        try {\n            const id = (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n            const now = new Date().toISOString();\n            const { title, description, status = 'todo', priority = 'medium', column_id, due_date, estimated_hours, position = 0 } = taskData;\n            const stmt = this.db.prepare(`\n        INSERT INTO tasks (id, title, description, status, priority, column_id, due_date, estimated_hours, position, created_at, updated_at)\n        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n      `);\n            stmt.run(id, title, description, status, priority, column_id, due_date, estimated_hours, position, now, now);\n            return {\n                id,\n                title: title || '',\n                description: description || '',\n                status,\n                priority,\n                column_id,\n                due_date,\n                estimated_hours,\n                position,\n                created_at: now,\n                updated_at: now\n            };\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏:', error);\n            throw new Error(`Failed to create task: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async getTaskById(id) {\n        try {\n            const stmt = this.db.prepare('SELECT * FROM tasks WHERE id = ?');\n            const task = stmt.get(id);\n            return task || null;\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –ø–æ ID:', error);\n            throw new Error(`Failed to get task by ID: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async getColumnTasks(columnId) {\n        try {\n            const stmt = this.db.prepare('SELECT * FROM tasks WHERE column_id = ? ORDER BY position ASC, created_at DESC');\n            return stmt.all(columnId);\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–¥–∞—á –∫–æ–ª–æ–Ω–∫–∏:', error);\n            throw new Error(`Failed to get column tasks: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async deleteTask(id) {\n        try {\n            const stmt = this.db.prepare('DELETE FROM tasks WHERE id = ?');\n            const result = stmt.run(id);\n            return result.changes > 0;\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏:', error);\n            throw new Error(`Failed to delete task: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    // =====================================================\n    // –ü–†–û–í–ï–†–ö–ê –î–û–°–¢–£–ü–ê –ö –ü–†–û–ï–ö–¢–ê–ú\n    // =====================================================\n    async hasProjectAccess(userId, projectId) {\n        try {\n            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –ø—Ä–æ–µ–∫—Ç–∞\n            const ownerStmt = this.db.prepare('SELECT id FROM projects WHERE id = ? AND creator_id = ?');\n            const isOwner = ownerStmt.get(projectId, userId);\n            if (isOwner) {\n                console.log('üîç SQLite: User is project owner');\n                return true;\n            }\n            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —á–ª–µ–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–∞\n            const memberStmt = this.db.prepare('SELECT id FROM project_members WHERE project_id = ? AND user_id = ?');\n            const isMember = memberStmt.get(projectId, userId);\n            console.log('üîç SQLite: Project access check:', {\n                userId,\n                projectId,\n                isOwner: !!isOwner,\n                isMember: !!isMember\n            });\n            return !!isMember;\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ–µ–∫—Ç—É:', error);\n            throw new Error(`Failed to check project access: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    // =====================================================\n    // –ú–ï–¢–û–î–´ –û–ë–ù–û–í–õ–ï–ù–ò–Ø\n    // =====================================================\n    async updateTask(id, updates) {\n        try {\n            const fields = Object.keys(updates).filter((key)=>key !== 'id' && key !== 'created_at');\n            if (fields.length === 0) return null;\n            const setClause = fields.map((field)=>`${field} = ?`).join(', ');\n            const values = fields.map((field)=>updates[field]);\n            values.push(new Date().toISOString()); // updated_at\n            values.push(id);\n            const stmt = this.db.prepare(`\n        UPDATE tasks SET ${setClause}, updated_at = ? WHERE id = ?\n      `);\n            const result = stmt.run(...values);\n            if (result.changes === 0) return null;\n            return this.getTaskById(id);\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏:', error);\n            throw new Error(`Failed to update task: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async updateBoard(id, updates) {\n        try {\n            const fields = Object.keys(updates).filter((key)=>key !== 'id' && key !== 'created_at');\n            if (fields.length === 0) return null;\n            const setClause = fields.map((field)=>`${field} = ?`).join(', ');\n            const values = fields.map((field)=>updates[field]);\n            values.push(new Date().toISOString()); // updated_at\n            values.push(id);\n            const stmt = this.db.prepare(`\n        UPDATE boards SET ${setClause}, updated_at = ? WHERE id = ?\n      `);\n            const result = stmt.run(...values);\n            if (result.changes === 0) return null;\n            return this.getBoardById(id);\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å–∫–∏:', error);\n            throw new Error(`Failed to update board: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async updateProject(id, updates) {\n        try {\n            const fields = Object.keys(updates).filter((key)=>key !== 'id' && key !== 'created_at');\n            if (fields.length === 0) return null;\n            const setClause = fields.map((field)=>`${field} = ?`).join(', ');\n            const values = fields.map((field)=>updates[field]);\n            values.push(new Date().toISOString()); // updated_at\n            values.push(id);\n            const stmt = this.db.prepare(`\n        UPDATE projects SET ${setClause}, updated_at = ? WHERE id = ?\n      `);\n            const result = stmt.run(...values);\n            if (result.changes === 0) return null;\n            return this.getProjectById(id);\n        } catch (error) {\n            console.error('‚ùå SQLite: –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:', error);\n            throw new Error(`Failed to update project: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    // =====================================================\n    // –í–´–ü–û–õ–ù–ï–ù–ò–ï –ü–†–û–ò–ó–í–û–õ–¨–ù–´–• SQL –ó–ê–ü–†–û–°–û–í\n    // =====================================================\n    async query(sql, params) {\n        if (!this.db) throw new Error('Database not initialized');\n        try {\n            const stmt = this.db.prepare(sql);\n            const trimmedSql = sql.trim().toUpperCase();\n            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø SQL –∫–æ–º–∞–Ω–¥—ã\n            const isSelectQuery = trimmedSql.startsWith('SELECT') || trimmedSql.startsWith('WITH');\n            if (isSelectQuery) {\n                // –î–ª—è SELECT –∑–∞–ø—Ä–æ—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º all()\n                let rows;\n                if (params && params.length > 0) {\n                    rows = stmt.all(...params);\n                } else {\n                    rows = stmt.all();\n                }\n                return {\n                    rows\n                };\n            } else {\n                // –î–ª—è INSERT, UPDATE, DELETE, BEGIN, COMMIT, ROLLBACK –∏—Å–ø–æ–ª—å–∑—É–µ–º run()\n                let result;\n                if (params && params.length > 0) {\n                    result = stmt.run(...params);\n                } else {\n                    result = stmt.run();\n                }\n                // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏–∏\n                return {\n                    rows: []\n                };\n            }\n        } catch (error) {\n            console.error('‚ùå SQLite query error:', error);\n            throw error;\n        }\n    }\n    // –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è\n    close() {\n        if (this.db) {\n            this.db.close();\n        }\n    }\n}\n// –≠–∫—Å–ø–æ—Ä—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∞–¥–∞–ø—Ç–µ—Ä–∞\nconst sqliteAdapter = SQLiteAdapter.getInstance();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sSUFBSTZCLE1BQU07UUFFOUIsSUFBSTtZQUNGLE1BQU1MLE9BQU8sSUFBSSxDQUFDeEIsRUFBRSxDQUFDSyxPQUFPLENBQUNpSTtZQUM3QixNQUFNRSxhQUFhRixJQUFJRyxJQUFJLEdBQUdDLFdBQVc7WUFFekMsNkJBQTZCO1lBQzdCLE1BQU1DLGdCQUFnQkgsV0FBV0ksVUFBVSxDQUFDLGFBQWFKLFdBQVdJLFVBQVUsQ0FBQztZQUUvRSxJQUFJRCxlQUFlO2dCQUNqQix1Q0FBdUM7Z0JBQ3ZDLElBQUkzQjtnQkFDSixJQUFJdUIsVUFBVUEsT0FBT3BGLE1BQU0sR0FBRyxHQUFHO29CQUMvQjZELE9BQU94RixLQUFLbEIsR0FBRyxJQUFJaUk7Z0JBQ3JCLE9BQU87b0JBQ0x2QixPQUFPeEYsS0FBS2xCLEdBQUc7Z0JBQ2pCO2dCQUNBLE9BQU87b0JBQUUwRztnQkFBSztZQUNoQixPQUFPO2dCQUNMLHVFQUF1RTtnQkFDdkUsSUFBSXZEO2dCQUNKLElBQUk4RSxVQUFVQSxPQUFPcEYsTUFBTSxHQUFHLEdBQUc7b0JBQy9CTSxTQUFTakMsS0FBS0UsR0FBRyxJQUFJNkc7Z0JBQ3ZCLE9BQU87b0JBQ0w5RSxTQUFTakMsS0FBS0UsR0FBRztnQkFDbkI7Z0JBRUEsOENBQThDO2dCQUM5QyxPQUFPO29CQUNMc0YsTUFBTSxFQUFFO2dCQUNWO1lBQ0Y7UUFDRixFQUFFLE9BQU9wRyxPQUFPO1lBQ2RMLFFBQVFLLEtBQUssQ0FBQyx5QkFBeUJBO1lBQ3ZDLE1BQU1BO1FBQ1I7SUFDRjtJQUVBLHNCQUFzQjtJQUNmaUksUUFBYztRQUNuQixJQUFJLElBQUksQ0FBQzdJLEVBQUUsRUFBRTtZQUNYLElBQUksQ0FBQ0EsRUFBRSxDQUFDNkksS0FBSztRQUNmO0lBQ0Y7QUFDRjtBQUVBLDhCQUE4QjtBQUN2QixNQUFNQyxnQkFBZ0JwSixjQUFjTyxXQUFXLEdBQUciLCJzb3VyY2VzIjpbIkU6XFxQcm9qZWN0c1xcZW5jb3JlLXRhc2tzXFxlbmNvcmUtdGFza3MtbWFpblxcc3JjXFxsaWJcXHNxbGl0ZS1hZGFwdGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFNRTGl0ZSDQkNCU0JDQn9Ci0JXQoCDQlNCb0K8g0JLQoNCV0JzQldCd0J3QntCT0J4g0JjQodCf0J7Qm9Cs0JfQntCS0JDQndCY0K9cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmltcG9ydCBEYXRhYmFzZSBmcm9tICdiZXR0ZXItc3FsaXRlMyc7XHJcbmltcG9ydCB7IFVzZXIsIFByb2plY3QsIEJvYXJkLCBDb2x1bW4sIFRhc2ssIFNlc3Npb24gfSBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0JztcclxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XHJcblxyXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNRTGl0ZUFkYXB0ZXIge1xyXG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBTUUxpdGVBZGFwdGVyO1xyXG4gIHByaXZhdGUgZGI6IERhdGFiYXNlLkRhdGFiYXNlO1xyXG4gIHByaXZhdGUgaXNJbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cclxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgY29uc3QgZGJQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdkYXRhYmFzZS5zcWxpdGUnKTtcclxuICAgIHRoaXMuZGIgPSBuZXcgRGF0YWJhc2UoZGJQYXRoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogU1FMaXRlQWRhcHRlciB7XHJcbiAgICBpZiAoIVNRTGl0ZUFkYXB0ZXIuaW5zdGFuY2UpIHtcclxuICAgICAgU1FMaXRlQWRhcHRlci5pbnN0YW5jZSA9IG5ldyBTUUxpdGVBZGFwdGVyKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU1FMaXRlQWRhcHRlci5pbnN0YW5jZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZCkgcmV0dXJuO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDRgdGD0YnQtdGB0YLQstC+0LLQsNC90LjQtSDRgtCw0LHQu9C40YZcclxuICAgICAgY29uc3QgdGFibGVzID0gdGhpcy5kYi5wcmVwYXJlKFxyXG4gICAgICAgIFwiU0VMRUNUIG5hbWUgRlJPTSBzcWxpdGVfbWFzdGVyIFdIRVJFIHR5cGU9J3RhYmxlJ1wiXHJcbiAgICAgICkuYWxsKCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFNRTGl0ZSDQsNC00LDQv9GC0LXRgCDQuNC90LjRhtC40LDQu9C40LfQuNGA0L7QstCw0L0nKTtcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4og0JTQvtGB0YLRg9C/0L3Ri9C1INGC0LDQsdC70LjRhtGLOicsICh0YWJsZXMgYXMgeyBuYW1lOiBzdHJpbmcgfVtdKS5tYXAodCA9PiB0Lm5hbWUpKTtcclxuICAgICAgXHJcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwg0J7RiNC40LHQutCwINC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNC4IFNRTGl0ZSDQsNC00LDQv9GC0LXRgNCwOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vINCe0J/QldCg0JDQptCY0Jgg0KEg0J/QntCb0KzQl9Ce0JLQkNCi0JXQm9Cv0JzQmFxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIHB1YmxpYyBhc3luYyBjcmVhdGVVc2VyKHVzZXJEYXRhOiBQYXJ0aWFsPFVzZXI+KTogUHJvbWlzZTxVc2VyPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBpZCA9IHV1aWR2NCgpO1xyXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcblxyXG4gICAgICBjb25zdCB7XHJcbiAgICAgICAgZW1haWwsXHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBhdmF0YXIsXHJcbiAgICAgICAgcm9sZSA9ICd1c2VyJyxcclxuICAgICAgICBpc0FwcHJvdmVkID0gZmFsc2UsXHJcbiAgICAgICAgcGFzc3dvcmRfaGFzaFxyXG4gICAgICB9ID0gdXNlckRhdGE7XHJcblxyXG4gICAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKGBcclxuICAgICAgICBJTlNFUlQgSU5UTyB1c2VycyAoaWQsIGVtYWlsLCBuYW1lLCBhdmF0YXJfdXJsLCByb2xlLCBhcHByb3ZhbF9zdGF0dXMsIHBhc3N3b3JkX2hhc2gsIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQpXHJcbiAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KVxyXG4gICAgICBgKTtcclxuXHJcbiAgICAgIC8vINCf0YDQtdC+0LHRgNCw0LfRg9C10LwgaXNBcHByb3ZlZCDQsiDRh9C40YHQu9C+INC00LvRjyBhcHByb3ZhbF9zdGF0dXMgKEJPT0xFQU4g0LIgU1FMaXRlKVxyXG4gICAgICBjb25zdCBhcHByb3ZhbFN0YXR1cyA9IGlzQXBwcm92ZWQgPyAxIDogMDtcclxuICAgICAgLy8g0JjRgdC/0L7Qu9GM0LfRg9C10LwgYXZhdGFyINC60LDQuiBhdmF0YXJfdXJsINC00LvRjyDRgdC+0L7RgtCy0LXRgtGB0YLQstC40Y8g0YHRhdC10LzQtSBTUUxpdGVcclxuICAgICAgc3RtdC5ydW4oaWQsIGVtYWlsLCBuYW1lLCBhdmF0YXIgfHwgbnVsbCwgcm9sZSwgYXBwcm92YWxTdGF0dXMsIHBhc3N3b3JkX2hhc2gsIG5vdywgbm93KTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgZW1haWw6IGVtYWlsIHx8ICcnLFxyXG4gICAgICAgIG5hbWU6IG5hbWUgfHwgJycsXHJcbiAgICAgICAgYXZhdGFyLFxyXG4gICAgICAgIHJvbGUsXHJcbiAgICAgICAgaXNBcHByb3ZlZCxcclxuICAgICAgICBjcmVhdGVkX2F0OiBub3csXHJcbiAgICAgICAgdXBkYXRlZF9hdDogbm93XHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgU1FMaXRlOiDQntGI0LjQsdC60LAg0YHQvtC30LTQsNC90LjRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y86JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgdXNlcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBnZXRVc2VyQnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9ID8nKTtcclxuICAgICAgY29uc3QgZGJVc2VyID0gc3RtdC5nZXQoaWQpIGFzIHtcclxuICAgICAgICBpZDogc3RyaW5nO1xyXG4gICAgICAgIG5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgdXNlcm5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgZW1haWw6IHN0cmluZztcclxuICAgICAgICBhdmF0YXI/OiBzdHJpbmc7XHJcbiAgICAgICAgYXZhdGFyX3VybD86IHN0cmluZztcclxuICAgICAgICByb2xlPzogc3RyaW5nO1xyXG4gICAgICAgIGlzQXBwcm92ZWQ/OiBib29sZWFuO1xyXG4gICAgICAgIGlzX2FwcHJvdmVkPzogYm9vbGVhbjtcclxuICAgICAgICBhcHByb3ZhbF9zdGF0dXM/OiBib29sZWFuO1xyXG4gICAgICAgIGxhc3RMb2dpbkF0Pzogc3RyaW5nO1xyXG4gICAgICAgIGxhc3RfbG9naW5fYXQ/OiBzdHJpbmc7XHJcbiAgICAgICAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxuICAgICAgICBwYXNzd29yZF9oYXNoPzogc3RyaW5nO1xyXG4gICAgICB9IHwgdW5kZWZpbmVkO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFkYlVzZXIpIHJldHVybiBudWxsO1xyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogZGJVc2VyLmlkLFxyXG4gICAgICBuYW1lOiBkYlVzZXIubmFtZSB8fCBkYlVzZXIudXNlcm5hbWUgfHwgZGJVc2VyLmVtYWlsLnNwbGl0KCdAJylbMF0sXHJcbiAgICAgIGVtYWlsOiBkYlVzZXIuZW1haWwsXHJcbiAgICAgIGF2YXRhcjogZGJVc2VyLmF2YXRhciB8fCBkYlVzZXIuYXZhdGFyX3VybCxcclxuICAgICAgcm9sZTogKGRiVXNlci5yb2xlIGFzICdhZG1pbicgfCAnbWFuYWdlcicgfCAndXNlcicpIHx8ICd1c2VyJyxcclxuICAgICAgaXNBcHByb3ZlZDogZGJVc2VyLmlzQXBwcm92ZWQgfHwgZGJVc2VyLmlzX2FwcHJvdmVkIHx8IGRiVXNlci5hcHByb3ZhbF9zdGF0dXMsXHJcbiAgICAgIGxhc3RMb2dpbkF0OiBkYlVzZXIubGFzdExvZ2luQXQgfHwgZGJVc2VyLmxhc3RfbG9naW5fYXQsXHJcbiAgICAgIGNyZWF0ZWRfYXQ6IGRiVXNlci5jcmVhdGVkX2F0LFxyXG4gICAgICB1cGRhdGVkX2F0OiBkYlVzZXIudXBkYXRlZF9hdCxcclxuICAgICAgcGFzc3dvcmRfaGFzaDogZGJVc2VyLnBhc3N3b3JkX2hhc2hcclxuICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgU1FMaXRlOiDQntGI0LjQsdC60LAg0L/QvtC70YPRh9C10L3QuNGPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQv9C+IElEOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2V0IHVzZXIgYnkgSUQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZ2V0VXNlckJ5RW1haWwoZW1haWw6IHN0cmluZyk6IFByb21pc2U8VXNlciB8IG51bGw+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgZW1haWwgPSA/Jyk7XHJcbiAgICAgIGNvbnN0IGRiVXNlciA9IHN0bXQuZ2V0KGVtYWlsKSBhcyB7XHJcbiAgICAgICAgaWQ6IHN0cmluZztcclxuICAgICAgICBuYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIHVzZXJuYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIGVtYWlsOiBzdHJpbmc7XHJcbiAgICAgICAgYXZhdGFyPzogc3RyaW5nO1xyXG4gICAgICAgIGF2YXRhcl91cmw/OiBzdHJpbmc7XHJcbiAgICAgICAgcm9sZT86IHN0cmluZztcclxuICAgICAgICBpc0FwcHJvdmVkPzogYm9vbGVhbjtcclxuICAgICAgICBpc19hcHByb3ZlZD86IGJvb2xlYW47XHJcbiAgICAgICAgYXBwcm92YWxfc3RhdHVzPzogYm9vbGVhbjtcclxuICAgICAgICBsYXN0TG9naW5BdD86IHN0cmluZztcclxuICAgICAgICBsYXN0X2xvZ2luX2F0Pzogc3RyaW5nO1xyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZztcclxuICAgICAgICB1cGRhdGVkX2F0OiBzdHJpbmc7XHJcbiAgICAgICAgcGFzc3dvcmRfaGFzaD86IHN0cmluZztcclxuICAgICAgfSB8IHVuZGVmaW5lZDtcclxuICAgICAgXHJcbiAgICAgIGlmICghZGJVc2VyKSByZXR1cm4gbnVsbDtcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWQ6IGRiVXNlci5pZCxcclxuICAgICAgbmFtZTogZGJVc2VyLm5hbWUgfHwgZGJVc2VyLnVzZXJuYW1lIHx8IGRiVXNlci5lbWFpbC5zcGxpdCgnQCcpWzBdLFxyXG4gICAgICBlbWFpbDogZGJVc2VyLmVtYWlsLFxyXG4gICAgICBhdmF0YXI6IGRiVXNlci5hdmF0YXIgfHwgZGJVc2VyLmF2YXRhcl91cmwsXHJcbiAgICAgIHJvbGU6IChkYlVzZXIucm9sZSBhcyAnYWRtaW4nIHwgJ21hbmFnZXInIHwgJ3VzZXInKSB8fCAndXNlcicsXHJcbiAgICAgIGlzQXBwcm92ZWQ6IGRiVXNlci5pc0FwcHJvdmVkIHx8IGRiVXNlci5pc19hcHByb3ZlZCB8fCBkYlVzZXIuYXBwcm92YWxfc3RhdHVzLFxyXG4gICAgICBsYXN0TG9naW5BdDogZGJVc2VyLmxhc3RMb2dpbkF0IHx8IGRiVXNlci5sYXN0X2xvZ2luX2F0LFxyXG4gICAgICBjcmVhdGVkX2F0OiBkYlVzZXIuY3JlYXRlZF9hdCxcclxuICAgICAgdXBkYXRlZF9hdDogZGJVc2VyLnVwZGF0ZWRfYXQsXHJcbiAgICAgIHBhc3N3b3JkX2hhc2g6IGRiVXNlci5wYXNzd29yZF9oYXNoXHJcbiAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFNRTGl0ZTog0J7RiNC40LHQutCwINC/0L7Qu9GD0YfQtdC90LjRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0L/QviBlbWFpbDonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCB1c2VyIGJ5IGVtYWlsOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIGdldEFsbFVzZXJzKCk6IFByb21pc2U8VXNlcltdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKCdTRUxFQ1QgKiBGUk9NIHVzZXJzJyk7XHJcbiAgICAgIGNvbnN0IGRiVXNlcnMgPSBzdG10LmFsbCgpIGFzIHtcclxuICAgICAgICBpZDogc3RyaW5nO1xyXG4gICAgICAgIG5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgdXNlcm5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgZW1haWw6IHN0cmluZztcclxuICAgICAgICBhdmF0YXI/OiBzdHJpbmc7XHJcbiAgICAgICAgYXZhdGFyX3VybD86IHN0cmluZztcclxuICAgICAgICByb2xlPzogc3RyaW5nO1xyXG4gICAgICAgIGlzQXBwcm92ZWQ/OiBib29sZWFuO1xyXG4gICAgICAgIGlzX2FwcHJvdmVkPzogYm9vbGVhbjtcclxuICAgICAgICBsYXN0TG9naW5BdD86IHN0cmluZztcclxuICAgICAgICBsYXN0X2xvZ2luX2F0Pzogc3RyaW5nO1xyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZztcclxuICAgICAgICB1cGRhdGVkX2F0OiBzdHJpbmc7XHJcbiAgICAgICAgcGFzc3dvcmRfaGFzaD86IHN0cmluZztcclxuICAgICAgfVtdO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGRiVXNlcnMubWFwKGRiVXNlciA9PiAoe1xyXG4gICAgICBpZDogZGJVc2VyLmlkLFxyXG4gICAgICBuYW1lOiBkYlVzZXIubmFtZSB8fCBkYlVzZXIudXNlcm5hbWUgfHwgZGJVc2VyLmVtYWlsLnNwbGl0KCdAJylbMF0sXHJcbiAgICAgIGVtYWlsOiBkYlVzZXIuZW1haWwsXHJcbiAgICAgIGF2YXRhcjogZGJVc2VyLmF2YXRhciB8fCBkYlVzZXIuYXZhdGFyX3VybCxcclxuICAgICAgcm9sZTogKGRiVXNlci5yb2xlIGFzICdhZG1pbicgfCAnbWFuYWdlcicgfCAndXNlcicpIHx8ICd1c2VyJyxcclxuICAgICAgaXNBcHByb3ZlZDogZGJVc2VyLmlzQXBwcm92ZWQgfHwgZGJVc2VyLmlzX2FwcHJvdmVkLFxyXG4gICAgICBsYXN0TG9naW5BdDogZGJVc2VyLmxhc3RMb2dpbkF0IHx8IGRiVXNlci5sYXN0X2xvZ2luX2F0LFxyXG4gICAgICBjcmVhdGVkX2F0OiBkYlVzZXIuY3JlYXRlZF9hdCxcclxuICAgICAgdXBkYXRlZF9hdDogZGJVc2VyLnVwZGF0ZWRfYXQsXHJcbiAgICAgIHBhc3N3b3JkX2hhc2g6IGRiVXNlci5wYXNzd29yZF9oYXNoXHJcbiAgICB9KSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgU1FMaXRlOiDQntGI0LjQsdC60LAg0L/QvtC70YPRh9C10L3QuNGPINCy0YHQtdGFINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5OicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2V0IGFsbCB1c2VyczogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyB1cGRhdGVVc2VyKGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8VXNlcj4pOiBQcm9taXNlPFVzZXIgfCBudWxsPiB7XHJcbiAgICBjb25zdCBmaWVsZHMgPSBPYmplY3Qua2V5cyh1cGRhdGVzKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ2lkJyk7XHJcbiAgICBpZiAoZmllbGRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgY29uc3Qgc2V0Q2xhdXNlID0gZmllbGRzLm1hcChmaWVsZCA9PiBgJHtmaWVsZH0gPSA/YCkuam9pbignLCAnKTtcclxuICAgIGNvbnN0IHZhbHVlcyA9IGZpZWxkcy5tYXAoZmllbGQgPT4gKHVwZGF0ZXMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW2ZpZWxkXSk7XHJcbiAgICB2YWx1ZXMucHVzaChuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpOyAvLyB1cGRhdGVkX2F0XHJcbiAgICB2YWx1ZXMucHVzaChpZCk7XHJcblxyXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXHJcbiAgICAgIFVQREFURSB1c2VycyBTRVQgJHtzZXRDbGF1c2V9LCB1cGRhdGVkX2F0ID0gPyBXSEVSRSBpZCA9ID9cclxuICAgIGApO1xyXG5cclxuICAgIHN0bXQucnVuKC4uLnZhbHVlcyk7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRVc2VyQnlJZChpZCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZGVsZXRlVXNlcihpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKCdERUxFVEUgRlJPTSB1c2VycyBXSEVSRSBpZCA9ID8nKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IHN0bXQucnVuKGlkKTtcclxuICAgIHJldHVybiByZXN1bHQuY2hhbmdlcyA+IDA7XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vINCe0J/QldCg0JDQptCY0Jgg0KEg0KHQldCh0KHQmNCv0JzQmFxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIHB1YmxpYyBhc3luYyBjcmVhdGVTZXNzaW9uKHNlc3Npb25EYXRhOiB7XHJcbiAgICB1c2VyX2lkOiBzdHJpbmc7XHJcbiAgICB0b2tlbjogc3RyaW5nO1xyXG4gICAgZXhwaXJlc19hdDogc3RyaW5nO1xyXG4gICAgaXNBY3RpdmU/OiBib29sZWFuO1xyXG4gICAgdXNlckFnZW50Pzogc3RyaW5nO1xyXG4gICAgaXBBZGRyZXNzPzogc3RyaW5nO1xyXG4gICAgbGFzdEFjdGl2aXR5QXQ/OiBzdHJpbmc7XHJcbiAgfSk6IFByb21pc2U8U2Vzc2lvbj4ge1xyXG4gICAgY29uc3QgaWQgPSB1dWlkdjQoKTtcclxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICAgIFxyXG4gICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INGH0YLQviBleHBpcmVzX2F0INGP0LLQu9GP0LXRgtGB0Y8g0LLQsNC70LjQtNC90L7QuSDQtNCw0YLQvtC5XHJcbiAgICBpZiAoIXNlc3Npb25EYXRhLmV4cGlyZXNfYXQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGV4cGlyZXNfYXQgZGF0ZSBwcm92aWRlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCfwn5SQIFNRTGl0ZTog0KHQvtC30LTQsNC90LjQtSDRgdC10YHRgdC40Lg6Jywge1xyXG4gICAgICB0b2tlbjogc2Vzc2lvbkRhdGEudG9rZW4gPyAncHJlc2VudCcgOiAnbWlzc2luZycsXHJcbiAgICAgIHVzZXJJZDogc2Vzc2lvbkRhdGEudXNlcl9pZCxcclxuICAgICAgZXhwaXJlc19hdDogc2Vzc2lvbkRhdGEuZXhwaXJlc19hdFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXHJcbiAgICAgIElOU0VSVCBJTlRPIHNlc3Npb25zIChpZCwgdG9rZW4sIHVzZXJfaWQsIGV4cGlyZXNfYXQsIGNyZWF0ZWRfYXQpXHJcbiAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPylcclxuICAgIGApO1xyXG5cclxuICAgIHN0bXQucnVuKGlkLCBzZXNzaW9uRGF0YS50b2tlbiwgc2Vzc2lvbkRhdGEudXNlcl9pZCwgc2Vzc2lvbkRhdGEuZXhwaXJlc19hdCwgbm93KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZCxcclxuICAgICAgdG9rZW46IHNlc3Npb25EYXRhLnRva2VuLFxyXG4gICAgICB1c2VyX2lkOiBzZXNzaW9uRGF0YS51c2VyX2lkLFxyXG4gICAgICBleHBpcmVzX2F0OiBzZXNzaW9uRGF0YS5leHBpcmVzX2F0LFxyXG4gICAgICBjcmVhdGVkX2F0OiBub3dcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZ2V0U2Vzc2lvbkJ5VG9rZW4odG9rZW46IHN0cmluZyk6IFByb21pc2U8U2Vzc2lvbiB8IG51bGw+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFNRTGl0ZTog0J/QvtC40YHQuiDRgdC10YHRgdC40Lgg0L/QviDRgtC+0LrQtdC90YM6JywgdG9rZW4pO1xyXG4gICAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKCdTRUxFQ1QgKiBGUk9NIHNlc3Npb25zIFdIRVJFIHRva2VuID0gPyBBTkQgZXhwaXJlc19hdCA+IGRhdGV0aW1lKFxcJ25vd1xcJyknKTtcclxuICAgICAgY29uc3QgZGJTZXNzaW9uID0gc3RtdC5nZXQodG9rZW4pIGFzIHtcclxuICAgICAgICBpZDogc3RyaW5nO1xyXG4gICAgICAgIHRva2VuOiBzdHJpbmc7XHJcbiAgICAgICAgdXNlcl9pZDogc3RyaW5nO1xyXG4gICAgICAgIGV4cGlyZXNfYXQ6IHN0cmluZztcclxuICAgICAgICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgICAgIH0gfCB1bmRlZmluZWQ7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIWRiU2Vzc2lvbikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFNRTGl0ZTog0KDQtdC30YPQu9GM0YLQsNGCINC/0L7QuNGB0LrQsCDRgdC10YHRgdC40Lg6INC90LUg0L3QsNC50LTQtdC90LAnKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogU1FMaXRlOiDQoNC10LfRg9C70YzRgtCw0YIg0L/QvtC40YHQutCwINGB0LXRgdGB0LjQuDonLCBkYlNlc3Npb24pO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBpZDogZGJTZXNzaW9uLmlkLFxyXG4gICAgICAgIHRva2VuOiBkYlNlc3Npb24udG9rZW4sXHJcbiAgICAgICAgdXNlcl9pZDogZGJTZXNzaW9uLnVzZXJfaWQsXHJcbiAgICAgICAgZXhwaXJlc19hdDogZGJTZXNzaW9uLmV4cGlyZXNfYXQsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogZGJTZXNzaW9uLmNyZWF0ZWRfYXRcclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTUUxpdGU6INCe0YjQuNCx0LrQsCDQv9C+0LvRg9GH0LXQvdC40Y8g0YHQtdGB0YHQuNC4INC/0L4g0YLQvtC60LXQvdGDOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2V0IHNlc3Npb24gYnkgdG9rZW46ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZGVsZXRlU2Vzc2lvbih0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKCdERUxFVEUgRlJPTSBzZXNzaW9ucyBXSEVSRSB0b2tlbiA9ID8nKTtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gc3RtdC5ydW4odG9rZW4pO1xyXG4gICAgICByZXR1cm4gcmVzdWx0LmNoYW5nZXMgPiAwO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFNRTGl0ZTog0J7RiNC40LHQutCwINGD0LTQsNC70LXQvdC40Y8g0YHQtdGB0YHQuNC4OicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlIHNlc3Npb246ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZGVsZXRlVXNlclNlc3Npb25zKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoJ0RFTEVURSBGUk9NIHNlc3Npb25zIFdIRVJFIHVzZXJfaWQgPSA/Jyk7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHN0bXQucnVuKHVzZXJJZCk7XHJcbiAgICAgIHJldHVybiByZXN1bHQuY2hhbmdlcztcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTUUxpdGU6INCe0YjQuNCx0LrQsCDRg9C00LDQu9C10L3QuNGPINGB0LXRgdGB0LjQuSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y86JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBkZWxldGUgdXNlciBzZXNzaW9uczogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBkZWxldGVFeHBpcmVkU2Vzc2lvbnMoKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICAgICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZSgnREVMRVRFIEZST00gc2Vzc2lvbnMgV0hFUkUgZXhwaXJlc19hdCA8ID8nKTtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gc3RtdC5ydW4obm93KTtcclxuICAgICAgcmV0dXJuIHJlc3VsdC5jaGFuZ2VzO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFNRTGl0ZTog0J7RiNC40LHQutCwINGD0LTQsNC70LXQvdC40Y8g0LjRgdGC0ZHQutGI0LjRhSDRgdC10YHRgdC40Lk6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBkZWxldGUgZXhwaXJlZCBzZXNzaW9uczogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8g0J7Qn9CV0KDQkNCm0JjQmCDQoSDQn9Cg0J7QldCa0KLQkNCc0JhcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBwdWJsaWMgYXN5bmMgY3JlYXRlUHJvamVjdChwcm9qZWN0RGF0YTogUGFydGlhbDxQcm9qZWN0Pik6IFByb21pc2U8UHJvamVjdD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgaWQgPSB1dWlkdjQoKTtcclxuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xyXG5cclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgY3JlYXRlZF9ieSxcclxuICAgICAgICBjb2xvcixcclxuICAgICAgICBpY29uX3VybCxcclxuICAgICAgICB0ZWxlZ3JhbV9jaGF0X2lkLFxyXG4gICAgICAgIHRlbGVncmFtX3RvcGljX2lkXHJcbiAgICAgIH0gPSBwcm9qZWN0RGF0YTtcclxuXHJcbiAgICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxyXG4gICAgICAgIElOU0VSVCBJTlRPIHByb2plY3RzIChpZCwgbmFtZSwgZGVzY3JpcHRpb24sIGNyZWF0b3JfaWQsIGNvbG9yLCBpY29uLCB0ZWxlZ3JhbV9jaGF0X2lkLCB0ZWxlZ3JhbV90b3BpY19pZCwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdClcclxuICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8sID8sID8pXHJcbiAgICAgIGApO1xyXG5cclxuICAgICAgc3RtdC5ydW4oaWQsIG5hbWUsIGRlc2NyaXB0aW9uLCBjcmVhdGVkX2J5LCBjb2xvciB8fCAnIzNCODJGNicsIGljb25fdXJsIHx8ICfwn5OLJywgdGVsZWdyYW1fY2hhdF9pZCwgdGVsZWdyYW1fdG9waWNfaWQsIG5vdywgbm93KTtcclxuXHJcbiAgICAgIC8vINCU0L7QsdCw0LLQu9GP0LXQvCDRgdC+0LfQtNCw0YLQtdC70Y8g0LrQsNC6INGD0YfQsNGB0YLQvdC40LrQsCDQv9GA0L7QtdC60YLQsFxyXG4gICAgICBjb25zdCBtZW1iZXJTdG10ID0gdGhpcy5kYi5wcmVwYXJlKGBcclxuICAgICAgICBJTlNFUlQgSU5UTyBwcm9qZWN0X21lbWJlcnMgKGlkLCBwcm9qZWN0X2lkLCB1c2VyX2lkLCByb2xlLCBqb2luZWRfYXQpXHJcbiAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVxyXG4gICAgICBgKTtcclxuICAgICAgY29uc3QgbWVtYmVySWQgPSB1dWlkdjQoKTtcclxuICAgICAgbWVtYmVyU3RtdC5ydW4obWVtYmVySWQsIGlkLCBjcmVhdGVkX2J5LCAnb3duZXInLCBub3cpO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBpZCxcclxuICAgICAgICBuYW1lOiBuYW1lIHx8ICcnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB8fCAnJyxcclxuICAgICAgICBjcmVhdGVkX2J5OiBjcmVhdGVkX2J5IHx8ICcnLFxyXG4gICAgICAgIGNvbG9yOiBjb2xvciB8fCAnIzNCODJGNicsXHJcbiAgICAgICAgaWNvbl91cmw6IGljb25fdXJsIHx8ICfwn5OLJyxcclxuICAgICAgICB0ZWxlZ3JhbV9jaGF0X2lkOiB0ZWxlZ3JhbV9jaGF0X2lkIHx8IG51bGwsXHJcbiAgICAgICAgdGVsZWdyYW1fdG9waWNfaWQ6IHRlbGVncmFtX3RvcGljX2lkIHx8IG51bGwsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogbm93LFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5vd1xyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFNRTGl0ZTog0J7RiNC40LHQutCwINGB0L7Qt9C00LDQvdC40Y8g0L/RgNC+0LXQutGC0LA6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgcHJvamVjdDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBnZXRQcm9qZWN0QnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxQcm9qZWN0IHwgbnVsbD4ge1xyXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUICogRlJPTSBwcm9qZWN0cyBXSEVSRSBpZCA9ID8nKTtcclxuICAgIGNvbnN0IGRiUHJvamVjdCA9IHN0bXQuZ2V0KGlkKSBhcyB7XHJcbiAgICAgIGlkOiBzdHJpbmc7XHJcbiAgICAgIG5hbWU6IHN0cmluZztcclxuICAgICAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgICAgY3JlYXRvcl9pZDogc3RyaW5nO1xyXG4gICAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgICBpY29uOiBzdHJpbmc7XHJcbiAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZztcclxuICAgICAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG4gICAgfSB8IHVuZGVmaW5lZDtcclxuICAgIFxyXG4gICAgaWYgKCFkYlByb2plY3QpIHJldHVybiBudWxsO1xyXG4gICAgXHJcbiAgICAvLyDQnNCw0L/Qv9C40L3QsyDQv9C+0LvQtdC5INC40Lcg0LHQsNC30Ysg0LTQsNC90L3Ri9GFINCyINC+0LbQuNC00LDQtdC80YvQuSDRhNC+0YDQvNCw0YJcclxuICAgIGNvbnN0IHByb2plY3Q6IFByb2plY3QgPSB7XHJcbiAgICAgIGlkOiBkYlByb2plY3QuaWQsXHJcbiAgICAgIG5hbWU6IGRiUHJvamVjdC5uYW1lLFxyXG4gICAgICBkZXNjcmlwdGlvbjogZGJQcm9qZWN0LmRlc2NyaXB0aW9uLFxyXG4gICAgICBjcmVhdGVkX2J5OiBkYlByb2plY3QuY3JlYXRvcl9pZCxcclxuICAgICAgY29sb3I6IGRiUHJvamVjdC5jb2xvcixcclxuICAgICAgaWNvbl91cmw6IGRiUHJvamVjdC5pY29uIHx8ICfwn5OLJyxcclxuICAgICAgY3JlYXRlZF9hdDogZGJQcm9qZWN0LmNyZWF0ZWRfYXQsXHJcbiAgICAgIHVwZGF0ZWRfYXQ6IGRiUHJvamVjdC51cGRhdGVkX2F0XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICByZXR1cm4gcHJvamVjdDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBnZXRVc2VyUHJvamVjdHModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFByb2plY3RbXT4ge1xyXG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXHJcbiAgICAgIFNFTEVDVCAqIEZST00gcHJvamVjdHMgV0hFUkUgY3JlYXRvcl9pZCA9ID9cclxuICAgIGApO1xyXG4gICAgY29uc3QgZGJQcm9qZWN0cyA9IHN0bXQuYWxsKHVzZXJJZCkgYXMge1xyXG4gICAgICBpZDogc3RyaW5nO1xyXG4gICAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICAgIGNyZWF0b3JfaWQ6IHN0cmluZztcclxuICAgICAgY29sb3I6IHN0cmluZztcclxuICAgICAgaWNvbjogc3RyaW5nO1xyXG4gICAgICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgICAgIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxuICAgIH1bXTtcclxuICAgIFxyXG4gICAgLy8g0JzQsNC/0L/QuNC90LMg0L/QvtC70LXQuSDQuNC3INCx0LDQt9GLINC00LDQvdC90YvRhSDQsiDQvtC20LjQtNCw0LXQvNGL0Lkg0YTQvtGA0LzQsNGCXHJcbiAgICByZXR1cm4gZGJQcm9qZWN0cy5tYXAoZGJQcm9qZWN0ID0+ICh7XHJcbiAgICAgIGlkOiBkYlByb2plY3QuaWQsXHJcbiAgICAgIG5hbWU6IGRiUHJvamVjdC5uYW1lLFxyXG4gICAgICBkZXNjcmlwdGlvbjogZGJQcm9qZWN0LmRlc2NyaXB0aW9uLFxyXG4gICAgICBjcmVhdGVkX2J5OiBkYlByb2plY3QuY3JlYXRvcl9pZCxcclxuICAgICAgY29sb3I6IGRiUHJvamVjdC5jb2xvcixcclxuICAgICAgaWNvbl91cmw6IGRiUHJvamVjdC5pY29uIHx8ICfwn5OLJyxcclxuICAgICAgY3JlYXRlZF9hdDogZGJQcm9qZWN0LmNyZWF0ZWRfYXQsXHJcbiAgICAgIHVwZGF0ZWRfYXQ6IGRiUHJvamVjdC51cGRhdGVkX2F0XHJcbiAgICB9KSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZ2V0QWxsUHJvamVjdHMoKTogUHJvbWlzZTxQcm9qZWN0W10+IHtcclxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCAqIEZST00gcHJvamVjdHMnKTtcclxuICAgIGNvbnN0IGRiUHJvamVjdHMgPSBzdG10LmFsbCgpIGFzIHtcclxuICAgICAgaWQ6IHN0cmluZztcclxuICAgICAgbmFtZTogc3RyaW5nO1xyXG4gICAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gICAgICBjcmVhdG9yX2lkOiBzdHJpbmc7XHJcbiAgICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICAgIGljb246IHN0cmluZztcclxuICAgICAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gICAgICB1cGRhdGVkX2F0OiBzdHJpbmc7XHJcbiAgICB9W107XHJcbiAgICBcclxuICAgIC8vINCc0LDQv9C/0LjQvdCzINC/0L7Qu9C10Lkg0LjQtyDQsdCw0LfRiyDQtNCw0L3QvdGL0YUg0LIg0L7QttC40LTQsNC10LzRi9C5INGE0L7RgNC80LDRglxyXG4gICAgcmV0dXJuIGRiUHJvamVjdHMubWFwKGRiUHJvamVjdCA9PiAoe1xyXG4gICAgICBpZDogZGJQcm9qZWN0LmlkLFxyXG4gICAgICBuYW1lOiBkYlByb2plY3QubmFtZSxcclxuICAgICAgZGVzY3JpcHRpb246IGRiUHJvamVjdC5kZXNjcmlwdGlvbixcclxuICAgICAgY29sb3I6IGRiUHJvamVjdC5jb2xvcixcclxuICAgICAgaWNvbl91cmw6IGRiUHJvamVjdC5pY29uIHx8ICfwn5OLJyxcclxuICAgICAgY3JlYXRlZF9ieTogZGJQcm9qZWN0LmNyZWF0b3JfaWQsXHJcbiAgICAgIGNyZWF0ZWRfYXQ6IGRiUHJvamVjdC5jcmVhdGVkX2F0LFxyXG4gICAgICB1cGRhdGVkX2F0OiBkYlByb2plY3QudXBkYXRlZF9hdFxyXG4gICAgfSkpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIGRlbGV0ZVByb2plY3QoaWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8g0J3QsNGH0LjQvdCw0LXQvCDRgtGA0LDQvdC30LDQutGG0LjRjiDQtNC70Y8g0LDRgtC+0LzQsNGA0L3QvtCz0L4g0YPQtNCw0LvQtdC90LjRj1xyXG4gICAgICB0aGlzLmRiLmV4ZWMoJ0JFR0lOIFRSQU5TQUNUSU9OJyk7XHJcblxyXG4gICAgICAvLyDQo9C00LDQu9GP0LXQvCDQt9Cw0LTQsNGH0Lgg0L/RgNC+0LXQutGC0LBcclxuICAgICAgY29uc3QgZGVsZXRlVGFza3NTdG10ID0gdGhpcy5kYi5wcmVwYXJlKCdERUxFVEUgRlJPTSB0YXNrcyBXSEVSRSBwcm9qZWN0X2lkID0gPycpO1xyXG4gICAgICBkZWxldGVUYXNrc1N0bXQucnVuKGlkKTtcclxuXHJcbiAgICAgIC8vINCj0LTQsNC70Y/QtdC8INC60L7Qu9C+0L3QutC4INC00L7RgdC+0Log0L/RgNC+0LXQutGC0LBcclxuICAgICAgY29uc3QgZGVsZXRlQ29sdW1uc1N0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxyXG4gICAgICAgIERFTEVURSBGUk9NIGNvbHVtbnMgV0hFUkUgYm9hcmRfaWQgSU4gKFxyXG4gICAgICAgICAgU0VMRUNUIGlkIEZST00gYm9hcmRzIFdIRVJFIHByb2plY3RfaWQgPSA/XHJcbiAgICAgICAgKVxyXG4gICAgICBgKTtcclxuICAgICAgZGVsZXRlQ29sdW1uc1N0bXQucnVuKGlkKTtcclxuXHJcbiAgICAgIC8vINCj0LTQsNC70Y/QtdC8INC00L7RgdC60Lgg0L/RgNC+0LXQutGC0LBcclxuICAgICAgY29uc3QgZGVsZXRlQm9hcmRzU3RtdCA9IHRoaXMuZGIucHJlcGFyZSgnREVMRVRFIEZST00gYm9hcmRzIFdIRVJFIHByb2plY3RfaWQgPSA/Jyk7XHJcbiAgICAgIGRlbGV0ZUJvYXJkc1N0bXQucnVuKGlkKTtcclxuXHJcbiAgICAgIC8vINCj0LTQsNC70Y/QtdC8INGD0YfQsNGB0YLQvdC40LrQvtCyINC/0YDQvtC10LrRgtCwXHJcbiAgICAgIGNvbnN0IGRlbGV0ZU1lbWJlcnNTdG10ID0gdGhpcy5kYi5wcmVwYXJlKCdERUxFVEUgRlJPTSBwcm9qZWN0X21lbWJlcnMgV0hFUkUgcHJvamVjdF9pZCA9ID8nKTtcclxuICAgICAgZGVsZXRlTWVtYmVyc1N0bXQucnVuKGlkKTtcclxuXHJcbiAgICAgIC8vINCj0LTQsNC70Y/QtdC8INGB0LDQvCDQv9GA0L7QtdC60YJcclxuICAgICAgY29uc3QgZGVsZXRlUHJvamVjdFN0bXQgPSB0aGlzLmRiLnByZXBhcmUoJ0RFTEVURSBGUk9NIHByb2plY3RzIFdIRVJFIGlkID0gPycpO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBkZWxldGVQcm9qZWN0U3RtdC5ydW4oaWQpO1xyXG5cclxuICAgICAgLy8g0J/QvtC00YLQstC10YDQttC00LDQtdC8INGC0YDQsNC90LfQsNC60YbQuNGOXHJcbiAgICAgIHRoaXMuZGIuZXhlYygnQ09NTUlUJyk7XHJcblxyXG4gICAgICByZXR1cm4gcmVzdWx0LmNoYW5nZXMgPiAwO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgLy8g0J7RgtC60LDRgtGL0LLQsNC10Lwg0YLRgNCw0L3Qt9Cw0LrRhtC40Y4g0LIg0YHQu9GD0YfQsNC1INC+0YjQuNCx0LrQuFxyXG4gICAgICB0aGlzLmRiLmV4ZWMoJ1JPTExCQUNLJyk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDQntGI0LjQsdC60LAg0YPQtNCw0LvQtdC90LjRjyDQv9GA0L7QtdC60YLQsDonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyDQntCf0JXQoNCQ0KbQmNCYINChINCU0J7QodCa0JDQnNCYXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgcHVibGljIGFzeW5jIGNyZWF0ZUJvYXJkKGJvYXJkRGF0YTogUGFydGlhbDxCb2FyZD4pOiBQcm9taXNlPEJvYXJkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBpZCA9IHV1aWR2NCgpO1xyXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcblxyXG4gICAgICBjb25zdCB7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICBwcm9qZWN0X2lkLFxyXG4gICAgICAgIGNyZWF0ZWRfYnlcclxuICAgICAgfSA9IGJvYXJkRGF0YTtcclxuXHJcbiAgICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxyXG4gICAgICAgIElOU0VSVCBJTlRPIGJvYXJkcyAoaWQsIG5hbWUsIGRlc2NyaXB0aW9uLCBwcm9qZWN0X2lkLCBjcmVhdGVkX2J5LCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0KVxyXG4gICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPylcclxuICAgICAgYCk7XHJcblxyXG4gICAgICBzdG10LnJ1bihpZCwgbmFtZSwgZGVzY3JpcHRpb24sIHByb2plY3RfaWQsIGNyZWF0ZWRfYnksIG5vdywgbm93KTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgbmFtZTogbmFtZSB8fCAnJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfHwgJycsXHJcbiAgICAgICAgcHJvamVjdF9pZDogcHJvamVjdF9pZCB8fCAnJyxcclxuICAgICAgICBjcmVhdGVkX2J5OiBjcmVhdGVkX2J5IHx8ICcnLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5vdyxcclxuICAgICAgICB1cGRhdGVkX2F0OiBub3dcclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTUUxpdGU6INCe0YjQuNCx0LrQsCDRgdC+0LfQtNCw0L3QuNGPINC00L7RgdC60Lg6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgYm9hcmQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZ2V0Qm9hcmRCeUlkKGlkOiBzdHJpbmcpOiBQcm9taXNlPEJvYXJkIHwgbnVsbD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUICogRlJPTSBib2FyZHMgV0hFUkUgaWQgPSA/Jyk7XHJcbiAgICAgIGNvbnN0IHJvdyA9IHN0bXQuZ2V0KGlkKSBhcyB7XHJcbiAgICAgICAgaWQ6IHN0cmluZztcclxuICAgICAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgICAgICBwcm9qZWN0X2lkOiBzdHJpbmc7XHJcbiAgICAgICAgY3JlYXRlZF9ieTogc3RyaW5nO1xyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZztcclxuICAgICAgICB1cGRhdGVkX2F0OiBzdHJpbmc7XHJcbiAgICAgIH0gfCB1bmRlZmluZWQ7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXJvdykgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGlkOiByb3cuaWQsXHJcbiAgICAgICAgbmFtZTogcm93Lm5hbWUsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IHJvdy5kZXNjcmlwdGlvbixcclxuICAgICAgICBwcm9qZWN0X2lkOiByb3cucHJvamVjdF9pZCxcclxuICAgICAgICBjcmVhdGVkX2J5OiByb3cuY3JlYXRlZF9ieSxcclxuICAgICAgICBjcmVhdGVkX2F0OiByb3cuY3JlYXRlZF9hdCxcclxuICAgICAgICB1cGRhdGVkX2F0OiByb3cudXBkYXRlZF9hdFxyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFNRTGl0ZTog0J7RiNC40LHQutCwINC/0L7Qu9GD0YfQtdC90LjRjyDQtNC+0YHQutC4INC/0L4gSUQ6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBnZXQgYm9hcmQgYnkgSUQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZ2V0UHJvamVjdEJvYXJkcyhwcm9qZWN0SWQ6IHN0cmluZyk6IFByb21pc2U8Qm9hcmRbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUICogRlJPTSBib2FyZHMgV0hFUkUgcHJvamVjdF9pZCA9ID8gT1JERVIgQlkgY3JlYXRlZF9hdCBERVNDJyk7XHJcbiAgICAgIGNvbnN0IGRiQm9hcmRzID0gc3RtdC5hbGwocHJvamVjdElkKSBhcyB7XHJcbiAgICAgICAgaWQ6IHN0cmluZztcclxuICAgICAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgICAgICBwcm9qZWN0X2lkOiBzdHJpbmc7XHJcbiAgICAgICAgY3JlYXRlZF9ieTogc3RyaW5nO1xyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZztcclxuICAgICAgICB1cGRhdGVkX2F0OiBzdHJpbmc7XHJcbiAgICAgIH1bXTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBkYkJvYXJkcy5tYXAocm93ID0+ICh7XHJcbiAgICAgICAgaWQ6IHJvdy5pZCxcclxuICAgICAgICBuYW1lOiByb3cubmFtZSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogcm93LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHByb2plY3RfaWQ6IHJvdy5wcm9qZWN0X2lkLFxyXG4gICAgICAgIGNyZWF0ZWRfYnk6IHJvdy5jcmVhdGVkX2J5LFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5jcmVhdGVkX2F0LFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHJvdy51cGRhdGVkX2F0XHJcbiAgICAgIH0pKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTUUxpdGU6INCe0YjQuNCx0LrQsCDQv9C+0LvRg9GH0LXQvdC40Y8g0LTQvtGB0L7QuiDQv9GA0L7QtdC60YLQsDonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBwcm9qZWN0IGJvYXJkczogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBkZWxldGVCb2FyZChpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkZWxldGVCb2FyZCA9IHRoaXMuZGIudHJhbnNhY3Rpb24oKCkgPT4ge1xyXG4gICAgICAgIC8vINCj0LTQsNC70Y/QtdC8INCy0YHQtSDQt9Cw0LTQsNGH0Lgg0LTQvtGB0LrQuFxyXG4gICAgICAgIGNvbnN0IGRlbGV0ZVRhc2tzU3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXHJcbiAgICAgICAgICBERUxFVEUgRlJPTSB0YXNrcyBcclxuICAgICAgICAgIFdIRVJFIGNvbHVtbl9pZCBJTiAoXHJcbiAgICAgICAgICAgIFNFTEVDVCBpZCBGUk9NIGNvbHVtbnMgV0hFUkUgYm9hcmRfaWQgPSA/XHJcbiAgICAgICAgICApXHJcbiAgICAgICAgYCk7XHJcbiAgICAgICAgZGVsZXRlVGFza3NTdG10LnJ1bihpZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g0KPQtNCw0LvRj9C10Lwg0LLRgdC1INC60L7Qu9C+0L3QutC4INC00L7RgdC60LhcclxuICAgICAgICBjb25zdCBkZWxldGVDb2x1bW5zU3RtdCA9IHRoaXMuZGIucHJlcGFyZSgnREVMRVRFIEZST00gY29sdW1ucyBXSEVSRSBib2FyZF9pZCA9ID8nKTtcclxuICAgICAgICBkZWxldGVDb2x1bW5zU3RtdC5ydW4oaWQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vINCj0LTQsNC70Y/QtdC8INGB0LDQvNGDINC00L7RgdC60YNcclxuICAgICAgICBjb25zdCBkZWxldGVCb2FyZFN0bXQgPSB0aGlzLmRiLnByZXBhcmUoJ0RFTEVURSBGUk9NIGJvYXJkcyBXSEVSRSBpZCA9ID8nKTtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBkZWxldGVCb2FyZFN0bXQucnVuKGlkKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gcmVzdWx0LmNoYW5nZXMgPiAwO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBkZWxldGVCb2FyZCgpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFNRTGl0ZTog0J7RiNC40LHQutCwINGD0LTQsNC70LXQvdC40Y8g0LTQvtGB0LrQuDonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGRlbGV0ZSBib2FyZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8g0J7Qn9CV0KDQkNCm0JjQmCDQoSDQmtCe0JvQntCd0JrQkNCc0JhcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBwdWJsaWMgYXN5bmMgY3JlYXRlQ29sdW1uKGNvbHVtbjogT21pdDxDb2x1bW4sICdpZCcgfCAnY3JlYXRlZF9hdCcgfCAndXBkYXRlZF9hdCc+KTogUHJvbWlzZTxDb2x1bW4+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGlkID0gdXVpZHY0KCk7XHJcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxyXG4gICAgICAgIElOU0VSVCBJTlRPIGNvbHVtbnMgKGlkLCBuYW1lLCBib2FyZF9pZCwgcG9zaXRpb24sIGNvbG9yLCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0KVxyXG4gICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPylcclxuICAgICAgYCk7XHJcbiAgICAgIFxyXG4gICAgICBzdG10LnJ1bihpZCwgY29sdW1uLm5hbWUsIGNvbHVtbi5ib2FyZF9pZCwgY29sdW1uLnBvc2l0aW9uLCBjb2x1bW4uY29sb3IsIG5vdywgbm93KTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgbmFtZTogY29sdW1uLm5hbWUsXHJcbiAgICAgICAgYm9hcmRfaWQ6IGNvbHVtbi5ib2FyZF9pZCxcclxuICAgICAgICBwb3NpdGlvbjogY29sdW1uLnBvc2l0aW9uLFxyXG4gICAgICAgIGNvbG9yOiBjb2x1bW4uY29sb3IsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogbm93LFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5vd1xyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFNRTGl0ZTog0J7RiNC40LHQutCwINGB0L7Qt9C00LDQvdC40Y8g0LrQvtC70L7QvdC60Lg6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgY29sdW1uOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIGdldEJvYXJkQ29sdW1ucyhib2FyZElkOiBzdHJpbmcpOiBQcm9taXNlPENvbHVtbltdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKCdTRUxFQ1QgKiBGUk9NIGNvbHVtbnMgV0hFUkUgYm9hcmRfaWQgPSA/IE9SREVSIEJZIHBvc2l0aW9uJyk7XHJcbiAgICAgIGNvbnN0IHJvd3MgPSBzdG10LmFsbChib2FyZElkKSBhcyB7XHJcbiAgICAgICAgaWQ6IHN0cmluZztcclxuICAgICAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgYm9hcmRfaWQ6IHN0cmluZztcclxuICAgICAgICBwb3NpdGlvbjogbnVtYmVyO1xyXG4gICAgICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICAgICAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxuICAgICAgfVtdO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHJvd3MubWFwKHJvdyA9PiAoe1xyXG4gICAgICAgIGlkOiByb3cuaWQsXHJcbiAgICAgICAgbmFtZTogcm93Lm5hbWUsXHJcbiAgICAgICAgYm9hcmRfaWQ6IHJvdy5ib2FyZF9pZCxcclxuICAgICAgICBwb3NpdGlvbjogcm93LnBvc2l0aW9uLFxyXG4gICAgICAgIGNvbG9yOiByb3cuY29sb3IsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogcm93LmNyZWF0ZWRfYXQsXHJcbiAgICAgICAgdXBkYXRlZF9hdDogcm93LnVwZGF0ZWRfYXRcclxuICAgICAgfSkpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFNRTGl0ZTog0J7RiNC40LHQutCwINC/0L7Qu9GD0YfQtdC90LjRjyDQutC+0LvQvtC90L7QuiDQtNC+0YHQutC4OicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2V0IGJvYXJkIGNvbHVtbnM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vINCe0J/QldCg0JDQptCY0Jgg0KEg0JfQkNCU0JDQp9CQ0JzQmFxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIHB1YmxpYyBhc3luYyBjcmVhdGVUYXNrKHRhc2tEYXRhOiBQYXJ0aWFsPFRhc2s+KTogUHJvbWlzZTxUYXNrPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBpZCA9IHV1aWR2NCgpO1xyXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcblxyXG4gICAgICBjb25zdCB7XHJcbiAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgc3RhdHVzID0gJ3RvZG8nLFxyXG4gICAgICAgIHByaW9yaXR5ID0gJ21lZGl1bScsXHJcbiAgICAgICAgY29sdW1uX2lkLFxyXG4gICAgICAgIGR1ZV9kYXRlLFxyXG4gICAgICAgIGVzdGltYXRlZF9ob3VycyxcclxuICAgICAgICBwb3NpdGlvbiA9IDBcclxuICAgICAgfSA9IHRhc2tEYXRhO1xyXG5cclxuICAgICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXHJcbiAgICAgICAgSU5TRVJUIElOVE8gdGFza3MgKGlkLCB0aXRsZSwgZGVzY3JpcHRpb24sIHN0YXR1cywgcHJpb3JpdHksIGNvbHVtbl9pZCwgZHVlX2RhdGUsIGVzdGltYXRlZF9ob3VycywgcG9zaXRpb24sIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQpXHJcbiAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KVxyXG4gICAgICBgKTtcclxuXHJcbiAgICAgIHN0bXQucnVuKGlkLCB0aXRsZSwgZGVzY3JpcHRpb24sIHN0YXR1cywgcHJpb3JpdHksIGNvbHVtbl9pZCwgZHVlX2RhdGUsIGVzdGltYXRlZF9ob3VycywgcG9zaXRpb24sIG5vdywgbm93KTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgdGl0bGU6IHRpdGxlIHx8ICcnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB8fCAnJyxcclxuICAgICAgICBzdGF0dXMsXHJcbiAgICAgICAgcHJpb3JpdHksXHJcbiAgICAgICAgY29sdW1uX2lkLFxyXG4gICAgICAgIGR1ZV9kYXRlLFxyXG4gICAgICAgIGVzdGltYXRlZF9ob3VycyxcclxuICAgICAgICBwb3NpdGlvbixcclxuICAgICAgICBjcmVhdGVkX2F0OiBub3csXHJcbiAgICAgICAgdXBkYXRlZF9hdDogbm93XHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgU1FMaXRlOiDQntGI0LjQsdC60LAg0YHQvtC30LTQsNC90LjRjyDQt9Cw0LTQsNGH0Lg6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgdGFzazogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBnZXRUYXNrQnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxUYXNrIHwgbnVsbD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUICogRlJPTSB0YXNrcyBXSEVSRSBpZCA9ID8nKTtcclxuICAgICAgY29uc3QgdGFzayA9IHN0bXQuZ2V0KGlkKSBhcyBUYXNrIHwgdW5kZWZpbmVkO1xyXG4gICAgICByZXR1cm4gdGFzayB8fCBudWxsO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFNRTGl0ZTog0J7RiNC40LHQutCwINC/0L7Qu9GD0YfQtdC90LjRjyDQt9Cw0LTQsNGH0Lgg0L/QviBJRDonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCB0YXNrIGJ5IElEOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIGdldENvbHVtblRhc2tzKGNvbHVtbklkOiBzdHJpbmcpOiBQcm9taXNlPFRhc2tbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUICogRlJPTSB0YXNrcyBXSEVSRSBjb2x1bW5faWQgPSA/IE9SREVSIEJZIHBvc2l0aW9uIEFTQywgY3JlYXRlZF9hdCBERVNDJyk7XHJcbiAgICAgIHJldHVybiBzdG10LmFsbChjb2x1bW5JZCkgYXMgVGFza1tdO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFNRTGl0ZTog0J7RiNC40LHQutCwINC/0L7Qu9GD0YfQtdC90LjRjyDQt9Cw0LTQsNGHINC60L7Qu9C+0L3QutC4OicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2V0IGNvbHVtbiB0YXNrczogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBkZWxldGVUYXNrKGlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoJ0RFTEVURSBGUk9NIHRhc2tzIFdIRVJFIGlkID0gPycpO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBzdG10LnJ1bihpZCk7XHJcbiAgICAgIHJldHVybiByZXN1bHQuY2hhbmdlcyA+IDA7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgU1FMaXRlOiDQntGI0LjQsdC60LAg0YPQtNCw0LvQtdC90LjRjyDQt9Cw0LTQsNGH0Lg6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBkZWxldGUgdGFzazogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8g0J/QoNCe0JLQldCg0JrQkCDQlNCe0KHQotCj0J/QkCDQmiDQn9Cg0J7QldCa0KLQkNCcXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgcHVibGljIGFzeW5jIGhhc1Byb2plY3RBY2Nlc3ModXNlcklkOiBzdHJpbmcsIHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyDQn9GA0L7QstC10YDRj9C10LwsINGP0LLQu9GP0LXRgtGB0Y8g0LvQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0LLQu9Cw0LTQtdC70YzRhtC10Lwg0L/RgNC+0LXQutGC0LBcclxuICAgICAgY29uc3Qgb3duZXJTdG10ID0gdGhpcy5kYi5wcmVwYXJlKCdTRUxFQ1QgaWQgRlJPTSBwcm9qZWN0cyBXSEVSRSBpZCA9ID8gQU5EIGNyZWF0b3JfaWQgPSA/Jyk7XHJcbiAgICAgIGNvbnN0IGlzT3duZXIgPSBvd25lclN0bXQuZ2V0KHByb2plY3RJZCwgdXNlcklkKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChpc093bmVyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gU1FMaXRlOiBVc2VyIGlzIHByb2plY3Qgb3duZXInKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8LCDRj9Cy0LvRj9C10YLRgdGPINC70Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINGH0LvQtdC90L7QvCDQv9GA0L7QtdC60YLQsFxyXG4gICAgICBjb25zdCBtZW1iZXJTdG10ID0gdGhpcy5kYi5wcmVwYXJlKCdTRUxFQ1QgaWQgRlJPTSBwcm9qZWN0X21lbWJlcnMgV0hFUkUgcHJvamVjdF9pZCA9ID8gQU5EIHVzZXJfaWQgPSA/Jyk7XHJcbiAgICAgIGNvbnN0IGlzTWVtYmVyID0gbWVtYmVyU3RtdC5nZXQocHJvamVjdElkLCB1c2VySWQpO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ/CflI0gU1FMaXRlOiBQcm9qZWN0IGFjY2VzcyBjaGVjazonLCB7XHJcbiAgICAgICAgdXNlcklkLFxyXG4gICAgICAgIHByb2plY3RJZCxcclxuICAgICAgICBpc093bmVyOiAhIWlzT3duZXIsXHJcbiAgICAgICAgaXNNZW1iZXI6ICEhaXNNZW1iZXJcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gISFpc01lbWJlcjtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTUUxpdGU6INCe0YjQuNCx0LrQsCDQv9GA0L7QstC10YDQutC4INC00L7RgdGC0YPQv9CwINC6INC/0YDQvtC10LrRgtGDOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY2hlY2sgcHJvamVjdCBhY2Nlc3M6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vINCc0JXQotCe0JTQqyDQntCR0J3QntCS0JvQldCd0JjQr1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIHB1YmxpYyBhc3luYyB1cGRhdGVUYXNrKGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8VGFzaz4pOiBQcm9taXNlPFRhc2sgfCBudWxsPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBmaWVsZHMgPSBPYmplY3Qua2V5cyh1cGRhdGVzKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ2lkJyAmJiBrZXkgIT09ICdjcmVhdGVkX2F0Jyk7XHJcbiAgICAgIGlmIChmaWVsZHMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgIGNvbnN0IHNldENsYXVzZSA9IGZpZWxkcy5tYXAoZmllbGQgPT4gYCR7ZmllbGR9ID0gP2ApLmpvaW4oJywgJyk7XHJcbiAgICAgIGNvbnN0IHZhbHVlcyA9IGZpZWxkcy5tYXAoZmllbGQgPT4gKHVwZGF0ZXMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW2ZpZWxkXSk7XHJcbiAgICAgIHZhbHVlcy5wdXNoKG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7IC8vIHVwZGF0ZWRfYXRcclxuICAgICAgdmFsdWVzLnB1c2goaWQpO1xyXG5cclxuICAgICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXHJcbiAgICAgICAgVVBEQVRFIHRhc2tzIFNFVCAke3NldENsYXVzZX0sIHVwZGF0ZWRfYXQgPSA/IFdIRVJFIGlkID0gP1xyXG4gICAgICBgKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHN0bXQucnVuKC4uLnZhbHVlcyk7XHJcbiAgICAgIGlmIChyZXN1bHQuY2hhbmdlcyA9PT0gMCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5nZXRUYXNrQnlJZChpZCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgU1FMaXRlOiDQntGI0LjQsdC60LAg0L7QsdC90L7QstC70LXQvdC40Y8g0LfQsNC00LDRh9C4OicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gdXBkYXRlIHRhc2s6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgdXBkYXRlQm9hcmQoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxCb2FyZD4pOiBQcm9taXNlPEJvYXJkIHwgbnVsbD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZmllbGRzID0gT2JqZWN0LmtleXModXBkYXRlcykuZmlsdGVyKGtleSA9PiBrZXkgIT09ICdpZCcgJiYga2V5ICE9PSAnY3JlYXRlZF9hdCcpO1xyXG4gICAgICBpZiAoZmllbGRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICBjb25zdCBzZXRDbGF1c2UgPSBmaWVsZHMubWFwKGZpZWxkID0+IGAke2ZpZWxkfSA9ID9gKS5qb2luKCcsICcpO1xyXG4gICAgICBjb25zdCB2YWx1ZXMgPSBmaWVsZHMubWFwKGZpZWxkID0+ICh1cGRhdGVzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtmaWVsZF0pO1xyXG4gICAgICB2YWx1ZXMucHVzaChuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpOyAvLyB1cGRhdGVkX2F0XHJcbiAgICAgIHZhbHVlcy5wdXNoKGlkKTtcclxuXHJcbiAgICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxyXG4gICAgICAgIFVQREFURSBib2FyZHMgU0VUICR7c2V0Q2xhdXNlfSwgdXBkYXRlZF9hdCA9ID8gV0hFUkUgaWQgPSA/XHJcbiAgICAgIGApO1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gc3RtdC5ydW4oLi4udmFsdWVzKTtcclxuICAgICAgaWYgKHJlc3VsdC5jaGFuZ2VzID09PSAwKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgIHJldHVybiB0aGlzLmdldEJvYXJkQnlJZChpZCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgU1FMaXRlOiDQntGI0LjQsdC60LAg0L7QsdC90L7QstC70LXQvdC40Y8g0LTQvtGB0LrQuDonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHVwZGF0ZSBib2FyZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyB1cGRhdGVQcm9qZWN0KGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8UHJvamVjdD4pOiBQcm9taXNlPFByb2plY3QgfCBudWxsPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBmaWVsZHMgPSBPYmplY3Qua2V5cyh1cGRhdGVzKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ2lkJyAmJiBrZXkgIT09ICdjcmVhdGVkX2F0Jyk7XHJcbiAgICAgIGlmIChmaWVsZHMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgIGNvbnN0IHNldENsYXVzZSA9IGZpZWxkcy5tYXAoZmllbGQgPT4gYCR7ZmllbGR9ID0gP2ApLmpvaW4oJywgJyk7XHJcbiAgICAgIGNvbnN0IHZhbHVlcyA9IGZpZWxkcy5tYXAoZmllbGQgPT4gKHVwZGF0ZXMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW2ZpZWxkXSk7XHJcbiAgICAgIHZhbHVlcy5wdXNoKG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7IC8vIHVwZGF0ZWRfYXRcclxuICAgICAgdmFsdWVzLnB1c2goaWQpO1xyXG5cclxuICAgICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXHJcbiAgICAgICAgVVBEQVRFIHByb2plY3RzIFNFVCAke3NldENsYXVzZX0sIHVwZGF0ZWRfYXQgPSA/IFdIRVJFIGlkID0gP1xyXG4gICAgICBgKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHN0bXQucnVuKC4uLnZhbHVlcyk7XHJcbiAgICAgIGlmIChyZXN1bHQuY2hhbmdlcyA9PT0gMCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5nZXRQcm9qZWN0QnlJZChpZCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgU1FMaXRlOiDQntGI0LjQsdC60LAg0L7QsdC90L7QstC70LXQvdC40Y8g0L/RgNC+0LXQutGC0LA6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgcHJvamVjdDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8g0JLQq9Cf0J7Qm9Cd0JXQndCY0JUg0J/QoNCe0JjQl9CS0J7Qm9Cs0J3Qq9ClIFNRTCDQl9CQ0J/QoNCe0KHQntCSXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgcHVibGljIGFzeW5jIHF1ZXJ5KHNxbDogc3RyaW5nLCBwYXJhbXM/OiB1bmtub3duW10pOiBQcm9taXNlPHsgcm93czogdW5rbm93bltdIH0+IHtcclxuICAgIGlmICghdGhpcy5kYikgdGhyb3cgbmV3IEVycm9yKCdEYXRhYmFzZSBub3QgaW5pdGlhbGl6ZWQnKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKHNxbCk7XHJcbiAgICAgIGNvbnN0IHRyaW1tZWRTcWwgPSBzcWwudHJpbSgpLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDQntC/0YDQtdC00LXQu9GP0LXQvCDRgtC40L8gU1FMINC60L7QvNCw0L3QtNGLXHJcbiAgICAgIGNvbnN0IGlzU2VsZWN0UXVlcnkgPSB0cmltbWVkU3FsLnN0YXJ0c1dpdGgoJ1NFTEVDVCcpIHx8IHRyaW1tZWRTcWwuc3RhcnRzV2l0aCgnV0lUSCcpO1xyXG4gICAgICBcclxuICAgICAgaWYgKGlzU2VsZWN0UXVlcnkpIHtcclxuICAgICAgICAvLyDQlNC70Y8gU0VMRUNUINC30LDQv9GA0L7RgdC+0LIg0LjRgdC/0L7Qu9GM0LfRg9C10LwgYWxsKClcclxuICAgICAgICBsZXQgcm93czogdW5rbm93bltdO1xyXG4gICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIHJvd3MgPSBzdG10LmFsbCguLi5wYXJhbXMpIGFzIHVua25vd25bXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcm93cyA9IHN0bXQuYWxsKCkgYXMgdW5rbm93bltdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyByb3dzIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8g0JTQu9GPIElOU0VSVCwgVVBEQVRFLCBERUxFVEUsIEJFR0lOLCBDT01NSVQsIFJPTExCQUNLINC40YHQv9C+0LvRjNC30YPQtdC8IHJ1bigpXHJcbiAgICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICByZXN1bHQgPSBzdG10LnJ1biguLi5wYXJhbXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXN1bHQgPSBzdG10LnJ1bigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyDQktC+0LfQstGA0LDRidCw0LXQvCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDRgNC10LfRg9C70YzRgtCw0YLQtSDQvtC/0LXRgNCw0YbQuNC4XHJcbiAgICAgICAgcmV0dXJuIHsgXHJcbiAgICAgICAgICByb3dzOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTUUxpdGUgcXVlcnkgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINCX0LDQutGA0YvRgtC40LUg0YHQvtC10LTQuNC90LXQvdC40Y9cclxuICBwdWJsaWMgY2xvc2UoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5kYikge1xyXG4gICAgICB0aGlzLmRiLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyDQrdC60YHQv9C+0YDRgiDRjdC60LfQtdC80L/Qu9GP0YDQsCDQsNC00LDQv9GC0LXRgNCwXHJcbmV4cG9ydCBjb25zdCBzcWxpdGVBZGFwdGVyID0gU1FMaXRlQWRhcHRlci5nZXRJbnN0YW5jZSgpOyJdLCJuYW1lcyI6WyJEYXRhYmFzZSIsInY0IiwidXVpZHY0IiwicGF0aCIsIlNRTGl0ZUFkYXB0ZXIiLCJpc0luaXRpYWxpemVkIiwiZGJQYXRoIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJkYiIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJpbml0aWFsaXplIiwidGFibGVzIiwicHJlcGFyZSIsImFsbCIsImNvbnNvbGUiLCJsb2ciLCJtYXAiLCJ0IiwibmFtZSIsImVycm9yIiwiY3JlYXRlVXNlciIsInVzZXJEYXRhIiwiaWQiLCJub3ciLCJEYXRlIiwidG9JU09TdHJpbmciLCJlbWFpbCIsImF2YXRhciIsInJvbGUiLCJpc0FwcHJvdmVkIiwicGFzc3dvcmRfaGFzaCIsInN0bXQiLCJhcHByb3ZhbFN0YXR1cyIsInJ1biIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiRXJyb3IiLCJtZXNzYWdlIiwiZ2V0VXNlckJ5SWQiLCJkYlVzZXIiLCJnZXQiLCJ1c2VybmFtZSIsInNwbGl0IiwiYXZhdGFyX3VybCIsImlzX2FwcHJvdmVkIiwiYXBwcm92YWxfc3RhdHVzIiwibGFzdExvZ2luQXQiLCJsYXN0X2xvZ2luX2F0IiwiZ2V0VXNlckJ5RW1haWwiLCJnZXRBbGxVc2VycyIsImRiVXNlcnMiLCJ1cGRhdGVVc2VyIiwidXBkYXRlcyIsImZpZWxkcyIsIk9iamVjdCIsImtleXMiLCJmaWx0ZXIiLCJrZXkiLCJsZW5ndGgiLCJzZXRDbGF1c2UiLCJmaWVsZCIsInZhbHVlcyIsInB1c2giLCJkZWxldGVVc2VyIiwicmVzdWx0IiwiY2hhbmdlcyIsImNyZWF0ZVNlc3Npb24iLCJzZXNzaW9uRGF0YSIsImV4cGlyZXNfYXQiLCJ0b2tlbiIsInVzZXJJZCIsInVzZXJfaWQiLCJnZXRTZXNzaW9uQnlUb2tlbiIsImRiU2Vzc2lvbiIsImRlbGV0ZVNlc3Npb24iLCJkZWxldGVVc2VyU2Vzc2lvbnMiLCJkZWxldGVFeHBpcmVkU2Vzc2lvbnMiLCJjcmVhdGVQcm9qZWN0IiwicHJvamVjdERhdGEiLCJkZXNjcmlwdGlvbiIsImNyZWF0ZWRfYnkiLCJjb2xvciIsImljb25fdXJsIiwidGVsZWdyYW1fY2hhdF9pZCIsInRlbGVncmFtX3RvcGljX2lkIiwibWVtYmVyU3RtdCIsIm1lbWJlcklkIiwiZ2V0UHJvamVjdEJ5SWQiLCJkYlByb2plY3QiLCJwcm9qZWN0IiwiY3JlYXRvcl9pZCIsImljb24iLCJnZXRVc2VyUHJvamVjdHMiLCJkYlByb2plY3RzIiwiZ2V0QWxsUHJvamVjdHMiLCJkZWxldGVQcm9qZWN0IiwiZXhlYyIsImRlbGV0ZVRhc2tzU3RtdCIsImRlbGV0ZUNvbHVtbnNTdG10IiwiZGVsZXRlQm9hcmRzU3RtdCIsImRlbGV0ZU1lbWJlcnNTdG10IiwiZGVsZXRlUHJvamVjdFN0bXQiLCJjcmVhdGVCb2FyZCIsImJvYXJkRGF0YSIsInByb2plY3RfaWQiLCJnZXRCb2FyZEJ5SWQiLCJyb3ciLCJnZXRQcm9qZWN0Qm9hcmRzIiwicHJvamVjdElkIiwiZGJCb2FyZHMiLCJkZWxldGVCb2FyZCIsInRyYW5zYWN0aW9uIiwiZGVsZXRlQm9hcmRTdG10IiwiY3JlYXRlQ29sdW1uIiwiY29sdW1uIiwiYm9hcmRfaWQiLCJwb3NpdGlvbiIsImdldEJvYXJkQ29sdW1ucyIsImJvYXJkSWQiLCJyb3dzIiwiY3JlYXRlVGFzayIsInRhc2tEYXRhIiwidGl0bGUiLCJzdGF0dXMiLCJwcmlvcml0eSIsImNvbHVtbl9pZCIsImR1ZV9kYXRlIiwiZXN0aW1hdGVkX2hvdXJzIiwiZ2V0VGFza0J5SWQiLCJ0YXNrIiwiZ2V0Q29sdW1uVGFza3MiLCJjb2x1bW5JZCIsImRlbGV0ZVRhc2siLCJoYXNQcm9qZWN0QWNjZXNzIiwib3duZXJTdG10IiwiaXNPd25lciIsImlzTWVtYmVyIiwidXBkYXRlVGFzayIsInVwZGF0ZUJvYXJkIiwidXBkYXRlUHJvamVjdCIsInF1ZXJ5Iiwic3FsIiwicGFyYW1zIiwidHJpbW1lZFNxbCIsInRyaW0iLCJ0b1VwcGVyQ2FzZSIsImlzU2VsZWN0UXVlcnkiLCJzdGFydHNXaXRoIiwiY2xvc2UiLCJzcWxpdGVBZGFwdGVyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/sqlite-adapter.ts\n");

/***/ })

};
;